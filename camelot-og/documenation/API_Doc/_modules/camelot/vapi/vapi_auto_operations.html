
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>camelot.vapi.vapi_auto_operations &#8212; Camelot Python SDK v12.6.22.12.0.0 documentation</title>
    <link rel="stylesheet" href="../../../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">Camelot Python SDK v12.6.22.12.0.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../index.html" >Module code</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../../camelot.html" accesskey="U">camelot</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for camelot.vapi.vapi_auto_operations</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">camelot</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">string</span>
<span class="kn">from</span> <span class="nn">camelot.vapi</span> <span class="k">import</span> <span class="n">vapi_camelot_utils</span> <span class="k">as</span> <span class="n">v</span>
<span class="kn">from</span> <span class="nn">camelot</span> <span class="k">import</span> <span class="n">camlogger</span>

<span class="n">log</span> <span class="o">=</span> <span class="n">camlogger</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">CamelotAutoOperation</span><span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">CamelotVapiUtils</span><span class="p">):</span>

    <span class="sd">&#39;&#39;&#39;Camelot Auto operations&#39;&#39;&#39;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">enable_auto_dial</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dial_list</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Configures an endpoint to auto dial</span>

<span class="sd">        Configures an endpoint to automatically dial on placing a call.</span>

<span class="sd">        :parameter dial_list: dial_list is a list of dictionaries</span>
<span class="sd">            with following dictionary keys</span>


<span class="sd">            called address : destination number or URI to be dialed.</span>
<span class="sd">                             It&#39;s a mandatory parameter</span>

<span class="sd">            calling address : number or URI from which call has to be dialed.</span>
<span class="sd">                              It&#39;s an optional parameter</span>
<span class="sd">                              if not provided, first line will be used by</span>
<span class="sd">                              default</span>

<span class="sd">            calling line : line reference number from which call has to be</span>
<span class="sd">                           dialed</span>
<span class="sd">                           index starts from 1. It&#39;s an optional parameter;</span>
<span class="sd">                           if not provided, first line will be used by default.</span>

<span class="sd">            Queue of called party address with no lineref or</span>
<span class="sd">            calling party information</span>

<span class="sd">            URL:</span>
<span class="sd">            [{&#39;called address&#39;:&#39;h15001-154468328@10.12.10.43:1720&#39;},</span>
<span class="sd">             {&#39;called address&#39;:&#39;h25001-154468328@10.12.10.43:1720&#39;}]</span>

<span class="sd">            DN:</span>
<span class="sd">            [{&#39;called address&#39;:&#39;6003&#39; },</span>
<span class="sd">             {&#39;called address&#39;:&#39;6004&#39;}]</span>

<span class="sd">            If we want to use different line on each call,</span>
<span class="sd">            for example line 1 will be used to call 6003, line 2 will be used</span>
<span class="sd">            to call 6004</span>


<span class="sd">            DN:</span>
<span class="sd">            [{&#39;called address&#39;:&#39;6003&#39;, &#39;calling address&#39;:&#39;6001&#39; },</span>
<span class="sd">             {&#39;called address&#39;:&#39;6004&#39;, &#39;calling line&#39;:&#39;2&#39;}]</span>


<span class="sd">            URL:</span>
<span class="sd">            [{&#39;called address&#39;:&#39;h45001-155123688@10.12.10.43:1720&#39;,</span>
<span class="sd">              &#39;calling address&#39;:&#39;h35001-155123688@10.12.10.43:1720&#39;},</span>
<span class="sd">             {&#39;called address&#39;:&#39;h55001-155123688@10.12.10.43:1720&#39;,</span>
<span class="sd">              &#39;calling line&#39;:&#39;2&#39;}]</span>

<span class="sd">        :parameter event: configure a trigger event for the auto dial</span>
<span class="sd">            An example:</span>
<span class="sd">            &quot;envelope icon on&quot; - trigger dial when Voice Mail icon is received</span>

<span class="sd">        :returns:  If the command enables autodial configuration</span>
<span class="sd">                   it returns enabled.</span>

<span class="sd">        &gt;&gt;&gt; ep1.enable_auto_dial([{&#39;called address&#39;:</span>
<span class="sd">            &#39;h45001-155123688@10.12.10.43:1720&#39;,</span>
<span class="sd">            &#39;calling address&#39;:</span>
<span class="sd">            &#39;h35001-155123688@10.12.10.43:1720&#39; },</span>
<span class="sd">            {&#39;called</span>
<span class="sd">            address&#39;:&#39;h55001-155123688@10.12.10.43:1720&#39;,</span>
<span class="sd">            &#39;calling line&#39;:&#39;2&#39;}])</span>
<span class="sd">            &#39;enabled&#39;</span>

<span class="sd">        &gt;&gt;&gt; ep1.enable_auto_dial([{&#39;called address&#39;:</span>
<span class="sd">            &#39;h45001-155123688@10.12.10.43:1720&#39;},</span>
<span class="sd">            {&#39;called address&#39;:</span>
<span class="sd">            &#39;h45001-155123688@10.12.10.43:1720&#39;}])</span>
<span class="sd">            &#39;enabled&#39;</span>

<span class="sd">        &gt;&gt;&gt; ep1.enable_auto_dial([{&#39;called address&#39;:&#39;99719099&#39;,</span>
<span class="sd">            &#39;calling address&#39;:&#39;99718088&#39; },</span>
<span class="sd">            {&#39;called address&#39;:&#39;99717077&#39;, &#39;calling line&#39;:&#39;2&#39;}])</span>
<span class="sd">            &#39;enabled&#39;</span>

<span class="sd">        &gt;&gt;&gt; ep1.enable_auto_dial([{&#39;called address&#39;:&#39;99719099&#39; }</span>
<span class="sd">            {&#39;called address&#39;:&#39;99717077&#39;}])</span>
<span class="sd">           &#39;enabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>

        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;Entering enable_auto_dial function&#39;</span><span class="p">)</span>
        <span class="n">auto_dial_called_list</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;auto_dial_called_list&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="n">auto_dial_event</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;auto_dial_event&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">auto_dial_called_list</span><span class="p">:</span>  <span class="c1"># used for TNGpi backward compatibility</span>
            <span class="n">dial_list</span> <span class="o">=</span> <span class="n">auto_dial_called_list</span>
        <span class="k">if</span> <span class="n">auto_dial_event</span><span class="p">:</span>  <span class="c1"># used for TNGpi backward compatibility</span>
            <span class="n">event</span> <span class="o">=</span> <span class="n">auto_dial_event</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">kwargs</span><span class="p">:</span>
            <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;dial_list&#39;</span><span class="p">:</span> <span class="n">dial_list</span><span class="p">,</span>
                <span class="s1">&#39;event&#39;</span><span class="p">:</span> <span class="n">event</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">ENABLE_AUTO_DIAL</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">disable_auto_dial</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        disables autodial for an endpoint.</span>

<span class="sd">        :returns: If the command disables autodial configuration</span>
<span class="sd">                  it returns disabled. Incase of error, returns the</span>
<span class="sd">                  specific error.</span>

<span class="sd">        &gt;&gt;&gt; ep1.disable_auto_dial()</span>
<span class="sd">        &#39;disabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;Entering disable_auto_dial function&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">DISABLE_AUTO_DIAL</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_auto_dial_event</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Return the registered event string.</span>

<span class="sd">        :returns: registered event string will be returned.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">GET_AUTO_DIAL_EVENT</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_auto_dial_called_list</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        To get the current configuration of the address queue</span>

<span class="sd">        :returns: the currently configured address queue is returned.</span>

<span class="sd">        Before invoking get_auto_dial_called_list() call enable_auto_dial()</span>

<span class="sd">        For more information refer to enable_auto_dial() API documentation.</span>
<span class="sd">        For example if DN&#39;s and line configured for auto dialling</span>

<span class="sd">        &gt;&gt;&gt; ep1.enable_auto_dial</span>
<span class="sd">        ([{&#39;called address&#39;:&#39;99719099&#39;,&#39;calling address&#39;:&#39;99718088&#39; },</span>
<span class="sd">        {&#39;called address&#39;:&#39;99717077&#39;, &#39;calling line&#39;:&#39;2&#39;}])</span>

<span class="sd">        &gt;&gt;&gt; ep1.get_auto_dial_called_list()</span>
<span class="sd">        [{&quot;called&quot;:&quot;99719099&quot;,&quot;line&quot;:&quot;0&quot;,&quot;calling&quot;:&quot;99718088&quot;},</span>
<span class="sd">        {&quot;called&quot;:&quot;99717077&quot;,&quot;line&quot;:&quot;2&quot;}]</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">GET_AUTO_DIAL_CALLED_LIST</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_auto_dial_status</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        The current autodial state, either enabled or disabled</span>

<span class="sd">        :returns: The current autodial state, either enabled or disabled</span>

<span class="sd">        &gt;&gt;&gt; ep1.get_auto_dial_status()</span>
<span class="sd">        &#39;enabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">GET_AUTO_DIAL_STATUS</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">enable_auto_transfer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">talk_time</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                             <span class="n">line_ref</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Configures an endpoint to auto transfer</span>
<span class="sd">        Configures an endpoint to automatically dial on placing a call.</span>

<span class="sd">        :parameter talk_time: delay in milliseconds from call</span>
<span class="sd">                             connection until transfer is invoked</span>

<span class="sd">        :parameter mode: transfer mode, supervised, blind,</span>
<span class="sd">                            connected, supervisedonhook or blindonhook</span>

<span class="sd">        :parameter target: called party address (DN or URI)</span>
<span class="sd">                            of the transfer target</span>

<span class="sd">        :parameter line_ref: line for outbound new call for transfer</span>

<span class="sd">        :returns:  If the command enables autotransfer</span>
<span class="sd">                   configuration it returns enabled.</span>

<span class="sd">        &gt;&gt;&gt; ep.enable_auto_transfer(20,&#39;supervised&#39;,12000,1)</span>
<span class="sd">        &#39;enabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>

        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;Entering enable_auto_transfer function&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">mode</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;supervised&#39;</span><span class="p">,</span> <span class="s1">&#39;blind&#39;</span><span class="p">,</span> <span class="s1">&#39;connected&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;supervisedonhook&#39;</span><span class="p">,</span> <span class="s1">&#39;blindonhook&#39;</span><span class="p">]:</span>
            <span class="k">return</span> <span class="s1">&#39;Invalid mode&#39;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">talk_time</span> <span class="ow">and</span> <span class="p">(</span><span class="n">target</span> <span class="ow">and</span> <span class="n">mode</span><span class="p">):</span>
            <span class="k">return</span> <span class="s1">&#39;talk time not specified&#39;</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="n">target</span> <span class="ow">and</span> <span class="p">(</span><span class="n">talk_time</span> <span class="ow">and</span> <span class="n">mode</span><span class="p">):</span>
            <span class="k">return</span> <span class="s1">&#39;target not specifed&#39;</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="n">mode</span> <span class="ow">and</span> <span class="p">(</span><span class="n">talk_time</span> <span class="ow">and</span> <span class="n">target</span><span class="p">):</span>
            <span class="k">return</span> <span class="s1">&#39;mode not specified&#39;</span>

        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;talktime&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">talk_time</span><span class="p">),</span>
                  <span class="s1">&#39;mode&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">mode</span><span class="p">),</span>
                  <span class="s1">&#39;target&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">target</span><span class="p">),</span>
                  <span class="s1">&#39;lineref&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">line_ref</span><span class="p">)}</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">ENABLE_AUTO_TRANSFER</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_auto_transfer_status</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        returns the status of auto transfer on endpoint</span>

<span class="sd">        :returns: Returns &#39;enabled&#39; if auto transfer is enabled otherwise</span>
<span class="sd">         &#39;disabled&#39;.</span>

<span class="sd">        &gt;&gt;&gt; ep1.get_auto_transfer_status()</span>
<span class="sd">        &#39;enabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">GET_AUTO_TRANSFER_STATUS</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_auto_transfer_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;returns the mode of the auto transfer on endpoint</span>

<span class="sd">        :returns: Returns the transfer mode like supervised, blind,</span>
<span class="sd">         connected, supervisedonhook or blindonhook if auto_transfer is enabled</span>
<span class="sd">         otherwise False.</span>

<span class="sd">        &gt;&gt;&gt; ep1.get_auto_transfer_mode()</span>
<span class="sd">        &#39;enabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">GET_AUTO_TRANSFER_MODE</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_auto_transfer_talk_time</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        returns the talk_time in milli seconds configured for an</span>
<span class="sd">        auto_transfer for an endpoint</span>

<span class="sd">        :returns: returns delay in milliseconds configured to invoke the</span>
<span class="sd">         transfer once from call is connected.</span>

<span class="sd">        &gt;&gt;&gt; ep1.get_auto_transfer_talk_time()</span>
<span class="sd">        &#39;enabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">GET_AUTO_TRANSFER_TALK_TIME</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_auto_transfer_target</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;returns the called paety address of the transfer target</span>

<span class="sd">        :returns: called party address (DN or URI) of the transfer target</span>

<span class="sd">        &gt;&gt;&gt; ep1.enable_auto_transfer(&#39;supervised&#39;, 20, 12000,1)</span>
<span class="sd">        &#39;enabled&#39;</span>
<span class="sd">        &gt;&gt;&gt; ep1.get_auto_transfer_target()</span>
<span class="sd">        &#39;12000&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">GET_AUTO_TRANSFER_TARGET</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">disable_auto_transfer</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        disables autodial for an endpoint.</span>

<span class="sd">        :returns: If the command disables autodial configuration it returns</span>
<span class="sd">         disabled. Incase of error, returns the specific error</span>

<span class="sd">        &gt;&gt;&gt; ep1.disable_auto_transfer()</span>
<span class="sd">        &#39;disabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;Entering disable_auto_transfer function&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">DISABLE_AUTO_TRANSFER</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_auto_conference_status</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        returns the status of the auto_conference on an endpoint</span>

<span class="sd">        :returns: returns Enabled if auto conference is enabled otherwise</span>
<span class="sd">         disabled.</span>

<span class="sd">        &gt;&gt;&gt; ep1.get_auto_conference_status()</span>
<span class="sd">        &#39;enabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">GET_AUTO_CONFERENCE_STATUS</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_auto_conference_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        returns the conference mode configured for auto conference</span>

<span class="sd">        :returns: returns mode like conference mode, consultative or connected.</span>

<span class="sd">        &gt;&gt;&gt; ep1.get_auto_conference_mode()</span>
<span class="sd">        &#39;connected&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">GET_AUTO_CONFERENCE_MODE</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_auto_conference_talk_time</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Returns the talk time configured for an auto conference</span>

<span class="sd">        :returns: returns the delay in milliseconds from call connection</span>
<span class="sd">         until conference is invoked.</span>

<span class="sd">        &gt;&gt;&gt; ep1.get_auto_conference_talk_time()</span>
<span class="sd">        &#39;200&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">GET_AUTO_CONFERENCE_TALK_TIME</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_auto_conference_target</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        returns the target configured for auto conference on endpoint</span>

<span class="sd">        :returns: returns the called party address (DN or URI) of the target</span>
<span class="sd">         endpoint to conference</span>

<span class="sd">        &gt;&gt;&gt; ep1.get_auto_conference_target()</span>
<span class="sd">        &#39;6001&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">GET_AUTO_CONFERENCE_TARGET</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">enable_auto_resume</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hold_time</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Configures an endpoint to auto resume</span>

<span class="sd">        :parameter hold_time:  delay in milliseconds call is on</span>
<span class="sd">                    hold before resume is invoked</span>

<span class="sd">        :returns: If the command enables autoresume configuration</span>
<span class="sd">         it returns enabled.</span>

<span class="sd">        &gt;&gt;&gt; ep.enable_auto_resume(20)</span>
<span class="sd">        &#39;enabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;Entering enable_auto_resume function&#39;</span><span class="p">)</span>
        <span class="k">if</span><span class="p">(</span><span class="n">hold_time</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">):</span>
            <span class="k">return</span> <span class="s1">&#39;Invalid hold time&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">ENABLE_AUTO_RESUME</span><span class="p">,</span> <span class="n">hold_time</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">disable_auto_resume</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        disables autodial for an endpoint</span>

<span class="sd">        :returns: If the command disables autodial configuration it returns</span>
<span class="sd">         disabled. Incase of error, returns the specific error</span>

<span class="sd">        &gt;&gt;&gt; ep1.disable_auto_dial()</span>
<span class="sd">        &#39;disabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;Entering disable_auto_resume function&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">DISABLE_AUTO_RESUME</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_auto_resume_status</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        returns the status of auto resume on an endpoint</span>

<span class="sd">        returns: Returns &#39;enabled&#39; if auto resume is enabled otherwise</span>
<span class="sd">                &#39;disabled&#39;.</span>

<span class="sd">        &gt;&gt;&gt; ep1.get_auto_resume_status()</span>
<span class="sd">        &#39;enabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;Entering get_auto_resume_status function&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">GET_AUTO_RESUME_STATUS</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_auto_resume_hold_time</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        returns the hold_time configured for the</span>
<span class="sd">        endpoint to remain in hold state before invoking</span>
<span class="sd">        resume.</span>

<span class="sd">        :returns: Returns hold time in milli seconds if auto_resume_hold</span>
<span class="sd">         is enabled and hold_time is configured otherwise 0.</span>

<span class="sd">        &gt;&gt;&gt; ep1.get_auto_resume_hold_time()</span>
<span class="sd">           &#39;200&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;Entering get_auto_resume_hold_time function&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">GET_AUTO_RESUME_HOLD_TIME</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">enable_auto_conference</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">talk_time</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                               <span class="n">line_ref</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Configures an endpoint to auto conference</span>
<span class="sd">        Configures an endpoint to automatically dial on placing a call.</span>

<span class="sd">        :parameter talk_time: delay in milliseconds from call</span>
<span class="sd">                             connection until conference is invoked</span>
<span class="sd">        :parameter mode: conference mode, consultative or connected</span>
<span class="sd">        :parameter target: called party address (DN or URI) of the</span>
<span class="sd">                            target endpoint to conference in</span>
<span class="sd">        :parameter line_ref: line for outbound new call for conference</span>

<span class="sd">        :returns: If the command enables autoconference</span>
<span class="sd">                  configuration it returns enabled.</span>

<span class="sd">        &gt;&gt;&gt; ep.enable_auto_conference(20,&#39;connected&#39;,12000,1)</span>
<span class="sd">            &#39;enabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>

        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;Entering enable_auto_conference function&#39;</span><span class="p">)</span>
        <span class="n">mode_types</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;consultative&#39;</span><span class="p">,</span> <span class="s1">&#39;connected&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">talk_time</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">talk_time</span> <span class="ow">in</span> <span class="n">mode_types</span><span class="p">:</span>
                <span class="n">temp</span> <span class="o">=</span> <span class="n">talk_time</span>
                <span class="n">talk_time</span> <span class="o">=</span> <span class="n">mode</span>
                <span class="n">mode</span> <span class="o">=</span> <span class="n">temp</span>
            <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">version_info</span> <span class="o">&lt;</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">):</span>
                <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">talk_time</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">long</span><span class="p">,</span> <span class="nb">float</span><span class="p">))</span> <span class="ow">or</span>
                        <span class="n">talk_time</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">):</span>
                    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;invalid talk time specified&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">talk_time</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">))</span> <span class="ow">or</span> <span class="n">talk_time</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;invalid talk time specified&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">mode</span> <span class="ow">and</span> <span class="n">mode</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">mode_types</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;invalid mode specified&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">line_ref</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">version_info</span> <span class="o">&lt;</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">):</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">line_ref</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">long</span><span class="p">))</span> <span class="ow">or</span> <span class="n">line_ref</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;invalid lineref specified&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">line_ref</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">or</span> <span class="n">line_ref</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;invalid lineref specified&#39;</span><span class="p">)</span>

        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;talktime&#39;</span><span class="p">:</span> <span class="n">talk_time</span><span class="p">,</span>
                  <span class="s1">&#39;mode&#39;</span><span class="p">:</span> <span class="n">mode</span><span class="p">,</span>
                  <span class="s1">&#39;target&#39;</span><span class="p">:</span> <span class="n">target</span><span class="p">,</span>
                  <span class="s1">&#39;lineref&#39;</span><span class="p">:</span> <span class="n">line_ref</span><span class="p">}</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">ENABLE_AUTO_CONFERENCE</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">disable_auto_conference</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        disables autoconference for an endpoint</span>

<span class="sd">        :returns: If the command disables autoconference configuration it</span>
<span class="sd">                  returns disabled. Incase of error, returns the specific</span>
<span class="sd">                  error.</span>

<span class="sd">        &gt;&gt;&gt; ep1.disable_auto_conference()</span>
<span class="sd">        &#39;disabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;Entering enable_auto_conference function&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">DISABLE_AUTO_CONFERENCE</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">enable_auto_answer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line_ref</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">calling_list</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">delay</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Configures an endpoint to answer a call after a specified delay.</span>

<span class="sd">        Configures an endpoint to automatically answer an incoming call</span>
<span class="sd">        after the specified delay has expired.  This command also</span>
<span class="sd">        allows the user to have the autoanswer configuration for line.</span>
<span class="sd">        Multiple lines of the endpoint can also be configured. When</span>
<span class="sd">        autoanswer is configured for a line it overrides the endpoint</span>
<span class="sd">        level configuration for that line. Either for line configuration</span>
<span class="sd">        or for the endpoint configuration a list of calling DN patterns</span>
<span class="sd">        can be given as input such that only the call that has a calling</span>
<span class="sd">        DN matching with any of the value in the input list will be auto.</span>
<span class="sd">        answered.</span>

<span class="sd">        :parameter line_ref: configure autoanswer for a line</span>
<span class="sd">        :parameter calling_list: configure a list of calling DN patterns so</span>
<span class="sd">            that autoanswer is triggered only if an incoming call&#39;s calling</span>
<span class="sd">            number is matched with any regular expression value in the list.</span>
<span class="sd">        :parameter delay:  delay in milliseconds.  If this option is specified</span>
<span class="sd">            along with lineref then specified delay value is applicable only</span>
<span class="sd">            to calls incoming on the line.</span>

<span class="sd">        :returns: If the command enables autoanswer configuration it returns</span>
<span class="sd">         enabled. Incase of error, returns the specific error.</span>

<span class="sd">        &gt;&gt;&gt; ep1.enable_auto_answer()</span>
<span class="sd">        &#39;enabled&#39;</span>

<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;Entering enable_auto_answer function&#39;</span><span class="p">)</span>
        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;lineref&#39;</span><span class="p">:</span> <span class="n">line_ref</span><span class="p">,</span>
                  <span class="s1">&#39;calling&#39;</span><span class="p">:</span> <span class="n">calling_list</span><span class="p">,</span>
                  <span class="s1">&#39;delay&#39;</span><span class="p">:</span> <span class="n">delay</span><span class="p">}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">ENABLE_AUTO_ANSWER</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">disable_auto_answer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line_ref</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        disable autoanswer. If this option is specified along with lineref then</span>
<span class="sd">        autoanswer configuration for that line will be removed.</span>

<span class="sd">        :parameter line_ref: disable autoanswer for a line</span>

<span class="sd">        :returns: If the command disables autoanswer configuration it returns</span>
<span class="sd">         disabled. Incase of error, returns the specific error</span>

<span class="sd">        &gt;&gt;&gt; ep1.disable_auto_answer()</span>
<span class="sd">        &#39;disabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;Entering disable_auto_answer function&#39;</span><span class="p">)</span>
        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;lineref&#39;</span><span class="p">:</span> <span class="n">line_ref</span><span class="p">}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">DISABLE_AUTO_ANSWER</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_auto_answer_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line_ref</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Returns autoanswer configuration. If this option is specified along</span>
<span class="sd">        with lineref then the configuration of the specified line will be</span>
<span class="sd">        returned. Otherwise, all lines configuration and the endpoint level</span>
<span class="sd">        configuration will be returned.</span>

<span class="sd">        :parameter line_ref: configuration of the specified line will be</span>
<span class="sd">         returned</span>

<span class="sd">        :returns: returns the formatted list of endpoint and lines</span>
<span class="sd">         configuration as shown below.</span>

<span class="sd">        &gt;&gt;&gt; ep1.ep1.enable_auto_answer(0,[&#39;1200001&#39;,&#39;1200002&#39;])</span>
<span class="sd">        &#39;enabled&#39;</span>
<span class="sd">        &gt;&gt;&gt; ep1.get_auto_answer_info()</span>
<span class="sd">        [{u&#39;calling&#39;: u&#39;{1200002 1200001}&#39;,</span>
<span class="sd">        u&#39;delay&#39;: u&#39;0&#39;,</span>
<span class="sd">        u&#39;line_config&#39;: [{u&#39;calling&#39;: u&#39;{1200002 1200001}&#39;,</span>
<span class="sd">        u&#39;delay&#39;: u&#39;0&#39;,</span>
<span class="sd">        u&#39;lineref&#39;: u&#39;1&#39;,</span>
<span class="sd">        u&#39;status&#39;: u&#39;enabled&#39;}],</span>
<span class="sd">        u&#39;status&#39;: u&#39;enabled&#39;}]</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;Entering get_auto_answer_info  function&#39;</span><span class="p">)</span>
        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;lineref&#39;</span><span class="p">:</span> <span class="n">line_ref</span><span class="p">}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">AUTO_ANSWER_INFO</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">enable_auto_cell_pickup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">delay</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Configures an endpoint to automatically perform cell pickup</span>
<span class="sd">         after a specified delay</span>

<span class="sd">        :parameter delay: delay in milliseconds before autocellpickup</span>
<span class="sd">         operation is invoked</span>

<span class="sd">        :returns: &#39;enabled&#39;</span>

<span class="sd">        &gt;&gt;&gt; ep1.enable_auto_cell_pickup()</span>
<span class="sd">        &#39;enabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;Entering enable_auto_cell_pickup function&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">delay</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">camelot</span><span class="o">.</span><span class="n">CamelotError</span><span class="p">(</span><span class="s1">&#39;delay cannot be negative&#39;</span><span class="p">)</span>
        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;delay&#39;</span><span class="p">:</span> <span class="n">delay</span><span class="p">}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">ENABLE_AUTO_CELL_PICKUP</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">disable_auto_cell_pickup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        disable autocellpickup</span>

<span class="sd">        :returns: &#39;disabled&#39;</span>

<span class="sd">        &gt;&gt;&gt; ep1.disable_auto_cell_pickup()</span>
<span class="sd">        &#39;diabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;Entering disable_auto_cell_pickup function&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">DISABLE_AUTO_CELL_PICKUP</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_auto_cell_pickup_status</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        get autocellpickup status whether enabled or disabled</span>

<span class="sd">        :returns: enabled /disabled</span>

<span class="sd">        &gt;&gt;&gt; ep1.get_auto_cell_pickup_status()</span>
<span class="sd">        &#39;diabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;Entering get_auto_cell_pickup_status function&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">GET_AUTO_CELL_PICKUP_STATUS</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_auto_cell_pickup_delay</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        get autocellpickup delay</span>

<span class="sd">        :returns: delay in milliseconds that was set in enable_auto_cell_pickup</span>

<span class="sd">        &gt;&gt;&gt; ep1.get_auto_cell_pickup_delay()</span>
<span class="sd">        &#39;10&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;Entering get_auto_cell_pickup_delay function&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">GET_AUTO_CELL_PICKUP_DELAY</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">enable_auto_disconnect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hold_time</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Configures an endpoint to disconnect a call after a specified hold time</span>

<span class="sd">        Configures an endpoint to automatically disconnect its call after the</span>
<span class="sd">         specified call hold time has expired.  Specify a hold time of zero to</span>
<span class="sd">         disconnect the call immediately.</span>

<span class="sd">        :parameter hold_time: hold time in milliseconds (Int parameter)</span>

<span class="sd">        :returns: The current autodisconnect state, enabled or disabled</span>

<span class="sd">        &gt;&gt;&gt; ep4.enable_auto_disconnect(hold_time = 3000)</span>
<span class="sd">        &#39;enabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>

        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;Entering enable_auto_disconnect function&#39;</span><span class="p">)</span>
        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;holdtime&#39;</span><span class="p">:</span> <span class="n">hold_time</span><span class="p">}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">ENABLE_AUTO_DISCONNECT</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">disable_auto_disconnect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Disables autodisconnect.</span>

<span class="sd">        :returns: The current autodial state, either enabled or disabled</span>

<span class="sd">        &gt;&gt;&gt; ep4.disable_auto_disconnect()</span>
<span class="sd">        &#39;disabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;Entering disable_auto_disconnect function&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">DISABLE_AUTO_DISCONNECT</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_auto_disconnect_status</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        The current autodisconnect state, either enabled or disabled is</span>
<span class="sd">        returned</span>

<span class="sd">        :returns: The current autodisconnect state, either enabled or disabled</span>

<span class="sd">        &gt;&gt;&gt; ep1.get_auto_disconnect_status()</span>
<span class="sd">        &#39;enabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;Entering get_auto_disconnect_status function&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">AUTO_DISCONNECT_STATUS</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_auto_disconnect_delay</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Returns currently configured hold time</span>

<span class="sd">        :returns: The currently configured hold time in milliseconds</span>
<span class="sd">                  is returned.</span>

<span class="sd">        &gt;&gt;&gt; ep1.get_auto_disconnect_delay()</span>
<span class="sd">        &#39;200&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;Entering get_auto_disconnect_delay function&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">AUTO_DISCONNECT_DELAY</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">enable_auto_sss</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">shandle</span><span class="p">,</span> <span class="n">sargs</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">scripttype</span><span class="o">=</span><span class="s1">&#39;tcl&#39;</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        enable the auto sss.</span>

<span class="sd">        :parameter shandle: shandle returned by loadsss</span>
<span class="sd">        :paramter args: arguments to the sss script</span>
<span class="sd">                        else respective error will be returned.</span>
<span class="sd">        &gt;&gt;&gt; ssh_handle=serv.load_sss(script=&#39;/home/camelot/from_ubuntu14</span>
<span class="sd">            /raseel/load_scripts/sss/placecall_sss.tcl&#39;,scripttype=&#39;tcl&#39;</span>
<span class="sd">        &gt;&gt;&gt; ep1.enable_auto_sss(shandle=ssh_handle)</span>
<span class="sd">        &#39;1&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">sArgs</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;Entering enable_auto_sss function&#39;</span><span class="p">)</span>
        <span class="n">hex_val</span> <span class="o">=</span> <span class="n">shandle</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">c</span> <span class="ow">in</span> <span class="n">string</span><span class="o">.</span><span class="n">hexdigits</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">hex_val</span><span class="p">):</span>
            <span class="k">return</span> <span class="s1">&#39;Invalid string handle&#39;</span>
        <span class="k">if</span> <span class="n">scripttype</span> <span class="ow">is</span> <span class="s2">&quot;tcl&quot;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">sargs</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">return</span> <span class="s2">&quot;Invalid argument format - argument must be space separated&quot;</span>
        <span class="k">if</span> <span class="n">scripttype</span> <span class="ow">is</span> <span class="s2">&quot;python&quot;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">sargs</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="k">return</span> <span class="s2">&quot;Invalid argument format - argument must be in list&quot;</span>
        <span class="k">if</span> <span class="n">scripttype</span> <span class="ow">is</span> <span class="s2">&quot;tcl&quot;</span><span class="p">:</span>
            <span class="n">sArgs</span> <span class="o">=</span> <span class="n">sargs</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">sargs</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">sargs</span><span class="p">)):</span>
                    <span class="k">if</span> <span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">sargs</span><span class="p">[</span><span class="n">key</span><span class="p">])</span> <span class="ow">is</span> <span class="n">camelot</span><span class="o">.</span><span class="n">endpoint</span><span class="o">.</span><span class="n">CamelotEndpoint</span><span class="p">):</span>
                        <span class="n">sargs</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">:</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="s2">&quot;endpoint&quot;</span><span class="p">,</span>
                                                <span class="n">sargs</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">get_ref</span><span class="p">())</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">sargs</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">:</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
                                                <span class="n">sargs</span><span class="p">[</span><span class="n">key</span><span class="p">])</span>

                <span class="n">sArgs</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">sargs</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">sArgs</span> <span class="o">=</span> <span class="n">sargs</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">ENABLE_AUTO_SSS</span><span class="p">,</span> <span class="n">shandle</span><span class="p">,</span> <span class="n">sArgs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_auto_call_guard_delay</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; get the current autocallguard delay.</span>

<span class="sd">        :returns: auto call gaurd delay time in milli seconds.</span>

<span class="sd">        &gt;&gt;&gt; ep1.get_auto_call_guard_delay()</span>
<span class="sd">        &#39;200&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">GET_AUTO_CALL_GUARD_DELAY</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">enable_auto_call_guard</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">delay</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Enable auto call guard</span>

<span class="sd">        Configures minimum delay from call disconnect to call initiation</span>
<span class="sd">        on an endpoint</span>

<span class="sd">        :parameter delay: delay in milliseconds</span>
<span class="sd">        :returns: enabled or disabled</span>

<span class="sd">        &gt;&gt;&gt; ep.enable_auto_call_guard(delay=0)</span>
<span class="sd">        enabled</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">ENABLE_AUTO_CALL_GUARD</span><span class="p">,</span> <span class="n">delay</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">disable_auto_call_guard</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        disable auto call guard</span>

<span class="sd">        :returns: &#39;disabled&#39;.</span>

<span class="sd">        &gt;&gt;&gt; ep1.disable_auto_call_guard()</span>
<span class="sd">        &#39;disabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">DISABLE_AUTO_CALL_GUARD</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_auto_call_guard_status</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        disable auto call guard</span>

<span class="sd">        :returns: enabled or disabled.</span>

<span class="sd">        &gt;&gt;&gt; ep1.get_auto_call_guard_status()</span>
<span class="sd">        &#39;disabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">GET_AUTO_CALL_GUARD_STATUS</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">enable_auto_path_conf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">start_delay</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                              <span class="n">trigger</span><span class="o">=</span><span class="s1">&#39;callsetup&#39;</span><span class="p">,</span> <span class="n">media_type</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Configures an endpoint to perform path confirmation when a call</span>
<span class="sd">        connects, i.e., during callsetup or whenever RTP path is renegotiated</span>

<span class="sd">        Configures an endpoint to perform path confirmation when a call</span>
<span class="sd">        connects.  The mode option indicates which end will initiate path</span>
<span class="sd">        confirmation.  The start_delay option indicates the delay from call</span>
<span class="sd">        connect until path confirmation begins.  If path confirmation fails,</span>
<span class="sd">        the call will disconnect immediately and a failure indication will be</span>
<span class="sd">        logged with the call via the failure status field returned by</span>
<span class="sd">        getcallinfo.</span>

<span class="sd">        Mid-call path confirmation is not supported on conference call flows.</span>

<span class="sd">        :parameter mode: One of the following:\n</span>
<span class="sd">                         * initiator - initiate path confirmation to remote end</span>
<span class="sd">                         * responder - respond to path confirmation initiated</span>
<span class="sd">                             from remote end</span>
<span class="sd">        :parameter start_delay: delay in milliseconds after the call connects</span>
<span class="sd">         and before initiating path confirmation (initiator) or listening for</span>
<span class="sd">         path confirmation (responder)</span>
<span class="sd">        :parameter trigger: This configuration parameter mentions when to</span>
<span class="sd">         trigger path confirmation. This parameter takes two values.</span>
<span class="sd">         i.e., callsetup and midcall.\n</span>
<span class="sd">         * callsetup - As the call being setup for the first time. i.e., the</span>
<span class="sd">           path confirmation is triggered for the first time the call goes to</span>
<span class="sd">           connected state. This is the default argument for trigger. i.e. if</span>
<span class="sd">           user omits trigger option then it is considered that autopathconf</span>
<span class="sd">           shall be executed only once during the call setup.</span>
<span class="sd">         * midcall - Path confirmation will be triggered whenever RTP path</span>
<span class="sd">           is renegotiated. Note that path confirmation will be kicked off</span>
<span class="sd">           when both inbound and outbound streams are open and the call is</span>
<span class="sd">           in connected state.</span>

<span class="sd">         Both trigger options can be configured on an endpoint and mode of</span>
<span class="sd">         endpoint can possibly be different in both cases. When path</span>
<span class="sd">         confirmation fails call will be disconnected in both trigger case</span>

<span class="sd">        :parameter media_type: This configuration parameter mentions the type</span>
<span class="sd">         of media i.e, audio or video</span>

<span class="sd">        :returns: Returns current auto_path_conf state,</span>
<span class="sd">         enabled or disabled</span>

<span class="sd">        &gt;&gt;&gt; ep1.enable_auto_path_conf(mode=&#39;responder&#39;,start_delay=&#39;12000&#39;,</span>
<span class="sd">                trigger=&#39;callsetup&#39;,media_type=&#39;audio&#39;)</span>
<span class="sd">        &#39;enabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">mode</span> <span class="ow">or</span> <span class="n">mode</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;initiator&#39;</span><span class="p">,</span> <span class="s1">&#39;responder&#39;</span><span class="p">]:</span>
            <span class="k">raise</span> <span class="n">camelot</span><span class="o">.</span><span class="n">CamelotError</span><span class="p">(</span><span class="s1">&#39;invalid mode specified&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">trigger</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;callsetup&#39;</span><span class="p">,</span> <span class="s1">&#39;midcall&#39;</span><span class="p">]:</span>
            <span class="k">raise</span> <span class="n">camelot</span><span class="o">.</span><span class="n">CamelotError</span><span class="p">(</span><span class="s1">&#39;invalid trigger specified&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">media_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;audio&#39;</span><span class="p">,</span> <span class="s1">&#39;video&#39;</span><span class="p">]:</span>
            <span class="k">raise</span> <span class="n">camelot</span><span class="o">.</span><span class="n">CamelotError</span><span class="p">(</span><span class="s1">&#39;invalid mediatype specified&#39;</span><span class="p">)</span>

        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;trigger&#39;</span><span class="p">:</span> <span class="n">trigger</span><span class="p">,</span>
                  <span class="s1">&#39;mode&#39;</span><span class="p">:</span> <span class="n">mode</span><span class="p">,</span>
                  <span class="s1">&#39;media&#39;</span><span class="p">:</span> <span class="n">media_type</span><span class="p">}</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span>
            <span class="n">camelot</span><span class="o">.</span><span class="n">ENABLE_AUTO_PATH_CONF</span><span class="p">,</span> <span class="n">start_delay</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">disable_auto_path_conf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">trigger</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">media_type</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Disables autopathconf</span>

<span class="sd">        Autopathconf can be disabled either for callsetup trigger or midcall</span>
<span class="sd">         trigger or both.</span>
<span class="sd">         :parameter media_type:This configuration parameter mentions the type</span>
<span class="sd">         of media i.e, audio or video</span>

<span class="sd">        :returns: The current autopathconf state, enabled or disabled</span>

<span class="sd">        &gt;&gt;&gt; ep4.disable_auto_path_conf(trigger = &#39;callsetup&#39;,</span>
<span class="sd">        media_type = &#39;audio&#39;)</span>
<span class="sd">        &#39;disabled&#39;</span>

<span class="sd">        &gt;&gt;&gt; ep4.disable_auto_path_conf(trigger = &#39;midcall&#39;,</span>
<span class="sd">        media_type = &#39;video&#39;)</span>
<span class="sd">        &#39;disabled&#39;</span>

<span class="sd">        &gt;&gt;&gt; ep4.disable_auto_path_conf()</span>
<span class="sd">        &#39;disabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">trigger</span> <span class="ow">or</span> <span class="n">trigger</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;callsetup&#39;</span><span class="p">,</span> <span class="s1">&#39;midcall&#39;</span><span class="p">]:</span>
            <span class="k">raise</span> <span class="n">camelot</span><span class="o">.</span><span class="n">CamelotError</span><span class="p">(</span><span class="s1">&#39;invalid trigger specified&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">media_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;audio&#39;</span><span class="p">,</span> <span class="s1">&#39;video&#39;</span><span class="p">]:</span>
            <span class="k">raise</span> <span class="n">camelot</span><span class="o">.</span><span class="n">CamelotError</span><span class="p">(</span><span class="s1">&#39;invalid mediatype specified&#39;</span><span class="p">)</span>

        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;trigger&#39;</span><span class="p">:</span> <span class="n">trigger</span><span class="p">,</span>
                  <span class="s1">&#39;mode&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                  <span class="s1">&#39;media&#39;</span><span class="p">:</span> <span class="n">media_type</span><span class="p">}</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span>
            <span class="n">camelot</span><span class="o">.</span><span class="n">DISABLE_AUTO_PATH_CONF</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">enable_auto_path_conf_video</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                                    <span class="n">start_delay</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">trigger</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Configures an endpoint to perform video path confirmation</span>
<span class="sd">        when a call connects, i.e., during callsetup or whenever</span>
<span class="sd">        RTP path is renegotiated</span>

<span class="sd">        Configures an endpoint to perform video path confirmation when a call</span>
<span class="sd">        connects.  The mode option indicates which end will initiate path</span>
<span class="sd">        confirmation.  The start_delay option indicates the delay from call</span>
<span class="sd">        connect until video path confirmation begins.  If video path</span>
<span class="sd">        confirmation fails, the call will disconnect immediately and</span>
<span class="sd">        a failure indication will be logged with the call via the</span>
<span class="sd">        failure status field returned by getcallinfo.</span>

<span class="sd">        Mid-call video path confirmation is not supported on</span>
<span class="sd">        conference call flows.</span>

<span class="sd">        :parameter mode: One of the following:\n</span>
<span class="sd">            * initiator - initiate video path confirmation to remote end</span>
<span class="sd">            * responder - respond to video path confirmation initiated</span>
<span class="sd">                             from remote end</span>
<span class="sd">        :parameter start_delay: delay in milliseconds after the call connects</span>
<span class="sd">         and before initiating video path confirmation (initiator) or</span>
<span class="sd">         listening for video path confirmation (responder)</span>
<span class="sd">        :parameter trigger: This configuration parameter mentions when to</span>
<span class="sd">         trigger video path confirmation. This parameter takes two values.</span>
<span class="sd">         i.e., callsetup and midcall.\n</span>
<span class="sd">         * callsetup - As the call being setup for the first time. i.e., the</span>
<span class="sd">           video path confirmation is triggered for the first time the call</span>
<span class="sd">           goes to connected state. This is the default argument for</span>
<span class="sd">           trigger. i.e. if user omits trigger option then it is considered</span>
<span class="sd">           that autopathconfvideo shall be executed only once during the</span>
<span class="sd">           call setup.</span>
<span class="sd">         * midcall - Video Path confirmation will be triggered whenever</span>
<span class="sd">           RTP path is renegotiated. Note that video path confirmation</span>
<span class="sd">           will be kicked off when both inbound and outbound streams</span>
<span class="sd">           are open and the call is in connected state.</span>

<span class="sd">         Both trigger options can be configured on an endpoint and mode of</span>
<span class="sd">         endpoint can possibly be different in both cases. When video path</span>
<span class="sd">         confirmation fails call will be disconnected in both trigger cases.</span>

<span class="sd">        :returns: Returns current autocallguard state,</span>
<span class="sd">         enabled or disable</span>

<span class="sd">        &gt;&gt;&gt; ep1.enable_auto_path_conf_video(mode=&#39;responder&#39;,</span>
<span class="sd">                start_delay=&#39;12000&#39;, trigger=&#39;callsetup&#39;)</span>
<span class="sd">        &#39;enabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">mode_types</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;initiator&#39;</span><span class="p">,</span> <span class="s1">&#39;responder&#39;</span><span class="p">]</span>
        <span class="n">trigger_types</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;callsetup&#39;</span><span class="p">,</span> <span class="s1">&#39;midcall&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">trigger</span> <span class="ow">or</span> <span class="n">trigger</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">trigger_types</span><span class="p">:</span>
            <span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;Invalid Trigger Mode,&#39;</span>
                      <span class="s1">&#39;Please check the request&#39;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">mode</span> <span class="ow">or</span> <span class="n">mode</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">mode_types</span><span class="p">:</span>
            <span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;Invalid Path Mode specified,&#39;</span>
                      <span class="s1">&#39;Please check the request&#39;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">start_delay</span><span class="p">:</span>
            <span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;Invalid delay specified&#39;</span><span class="p">)</span>
        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;mode&#39;</span><span class="p">:</span> <span class="n">mode</span><span class="p">,</span>
                  <span class="s1">&#39;trigger&#39;</span><span class="p">:</span> <span class="n">trigger</span><span class="p">,</span>
                  <span class="s1">&#39;start_delay&#39;</span><span class="p">:</span> <span class="n">start_delay</span><span class="p">,</span>
                  <span class="s1">&#39;media&#39;</span><span class="p">:</span> <span class="s1">&#39;video&#39;</span><span class="p">}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span>
            <span class="n">camelot</span><span class="o">.</span><span class="n">ENABLE_AUTO_PATH_CONF_VIDEO</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_auto_path_conf_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">trigger</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">media_type</span><span class="o">=</span><span class="s1">&#39;audio&#39;</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        auto path configuration status</span>

<span class="sd">        :parameter trigger: This configuration parameter mentions when to</span>
<span class="sd">            trigger path confirmation. Possible values \n</span>
<span class="sd">            * callsetup (default)</span>
<span class="sd">            * midcall\n</span>

<span class="sd">        :returns: disabled/enabled</span>

<span class="sd">        &gt;&gt;&gt; ep.get_auto_path_conf_status(&#39;callsetup&#39;)</span>
<span class="sd">        120</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">trigger_types</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;callsetup&#39;</span><span class="p">,</span> <span class="s1">&#39;midcall&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">trigger</span> <span class="ow">or</span> <span class="n">trigger</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">trigger_types</span><span class="p">:</span>
            <span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;Invalid Trigger Mode specified.&#39;</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;trigger&#39;</span><span class="p">:</span> <span class="n">trigger</span><span class="p">,</span>
                  <span class="s1">&#39;mode&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                  <span class="s1">&#39;media&#39;</span><span class="p">:</span> <span class="n">media_type</span><span class="p">}</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span>
            <span class="n">camelot</span><span class="o">.</span><span class="n">GET_AUTO_PATH_CONF_STATUS</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_auto_path_conf_delay</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">trigger</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Returns the delay from call connect until path confirmation begins</span>

<span class="sd">        :parameter trigger: This configuration parameter mentions when to</span>
<span class="sd">                            trigger path confirmation. Possible values \n</span>
<span class="sd">                            * callsetup (default)</span>
<span class="sd">                            * midcall</span>
<span class="sd">                            Note: If trigger not specified, it disables all</span>

<span class="sd">        :returns: the currently start delay is returned in millisec.</span>

<span class="sd">        &gt;&gt;&gt; ep1.get_auto_path_conf_delay()</span>
<span class="sd">        &#39;200&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">trigger_types</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;callsetup&#39;</span><span class="p">,</span> <span class="s1">&#39;midcall&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">trigger</span> <span class="ow">or</span> <span class="n">trigger</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">trigger_types</span><span class="p">:</span>
            <span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;Invalid Trigger Mode specified.&#39;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;trigger&#39;</span><span class="p">:</span> <span class="n">trigger</span><span class="p">,</span>
                  <span class="s1">&#39;mode&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">}</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span>
            <span class="n">camelot</span><span class="o">.</span><span class="n">GET_AUTO_PATH_CONF_DELAY</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_auto_path_conf_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">trigger</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">       The currently configured mode is returned.</span>

<span class="sd">        :returns: The currently configured mode is returned.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">trigger_types</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;callsetup&#39;</span><span class="p">,</span> <span class="s1">&#39;midcall&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">trigger</span> <span class="ow">or</span> <span class="n">trigger</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">trigger_types</span><span class="p">:</span>
            <span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;Invalid Trigger Mode specified.&#39;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;trigger&#39;</span><span class="p">:</span> <span class="n">trigger</span><span class="p">,</span>
                  <span class="s1">&#39;mode&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">}</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span>
            <span class="n">camelot</span><span class="o">.</span><span class="n">GET_AUTO_PATH_CONF_MODE</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">enable_auto_record</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Configures an endpoint to record inbound stream traffic to a file</span>

<span class="sd">        :parameter stream_type: type of traffic should be recorded. Possible</span>
<span class="sd">         values \n</span>
<span class="sd">            * audio</span>
<span class="sd">            * video</span>
<span class="sd">        :parameter prefix: String prefix to te beginning of all recorded files.</span>

<span class="sd">        :returns: enabled or disabled</span>

<span class="sd">        &gt;&gt;&gt; ep.enable_auto_record(&#39;audio&#39;,&#39;camelot&#39;)</span>
<span class="sd">        enabled</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">media_type</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;media_type&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">media_type</span><span class="p">:</span>
            <span class="n">stream_type</span> <span class="o">=</span> <span class="n">media_type</span>
        <span class="n">stream_types</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;audio&#39;</span><span class="p">,</span> <span class="s1">&#39;video&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">stream_type</span> <span class="ow">or</span> <span class="n">stream_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">stream_types</span><span class="p">:</span>
            <span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;enable_auto_record: invalid media/stream&#39;</span>
                      <span class="s1">&#39;type specified&#39;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="n">kargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="n">stream_type</span><span class="p">,</span>
                 <span class="s1">&#39;prefix&#39;</span><span class="p">:</span> <span class="n">prefix</span><span class="p">}</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">ENABLE_AUTO_RECORD</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">disable_auto_record</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Disable auto record</span>

<span class="sd">        :parameter stream_type: type of traffic should be recorded. Possible</span>
<span class="sd">         values \n</span>
<span class="sd">            * audio</span>
<span class="sd">            * video</span>

<span class="sd">        :returns: disabled</span>

<span class="sd">        &gt;&gt;&gt; ep.disable_auto_record(&#39;audio&#39;)</span>
<span class="sd">        disabled</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">media_type</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;media_type&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">media_type</span><span class="p">:</span>
            <span class="n">stream_type</span> <span class="o">=</span> <span class="n">media_type</span>
        <span class="n">stream_types</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;audio&#39;</span><span class="p">,</span> <span class="s1">&#39;video&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">stream_type</span> <span class="ow">or</span> <span class="n">stream_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">stream_types</span><span class="p">:</span>
            <span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;disable_auto_record: invalid media/stream&#39;</span>
                      <span class="s1">&#39;type specified&#39;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="n">kargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="n">stream_type</span><span class="p">,</span>
                 <span class="s1">&#39;prefix&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">}</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">DISABLE_AUTO_RECORD</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_auto_record_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;get auto record status</span>

<span class="sd">        :parameter stream_type: type of traffic should be recorded. Possible</span>
<span class="sd">         values \n</span>
<span class="sd">            * audio</span>
<span class="sd">            * video</span>

<span class="sd">        :returns: enabled or disabled</span>

<span class="sd">        &gt;&gt;&gt; ep.get_auto_record_status(&#39;audio)</span>
<span class="sd">        disabled</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">media_type</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;media_type&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">media_type</span><span class="p">:</span>
            <span class="n">stream_type</span> <span class="o">=</span> <span class="n">media_type</span>
        <span class="n">stream_types</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;audio&#39;</span><span class="p">,</span> <span class="s1">&#39;video&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">stream_type</span> <span class="ow">or</span> <span class="n">stream_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">stream_types</span><span class="p">:</span>
            <span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;disable_auto_record: invalid media/stream&#39;</span>
                      <span class="s1">&#39;type specified&#39;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="n">kargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="n">stream_type</span><span class="p">,</span>
                 <span class="s1">&#39;prefix&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">}</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">GET_AUTO_RECORD_STATUS</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_auto_record_prefix</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream_type</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        The currently configured prefix is returned.</span>

<span class="sd">        :parameter stream_type: type of traffic should be recorded. Possible</span>
<span class="sd">         values \n</span>
<span class="sd">            * audio</span>
<span class="sd">            * video</span>

<span class="sd">        :returns: the currently configured prefix is returned.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">media_type</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;media_type&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">media_type</span><span class="p">:</span>
            <span class="n">stream_type</span> <span class="o">=</span> <span class="n">media_type</span>
        <span class="n">stream_types</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;audio&#39;</span><span class="p">,</span> <span class="s1">&#39;video&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">stream_type</span> <span class="ow">or</span> <span class="n">stream_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">stream_types</span><span class="p">:</span>
            <span class="n">log</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;disable_auto_record: invalid media/stream&#39;</span>
                      <span class="s1">&#39;type specified&#39;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="n">kargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="n">stream_type</span><span class="p">,</span>
                 <span class="s1">&#39;prefix&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">}</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">GET_AUTO_RECORD_PREFIX</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">enable_auto_hold</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">talk_time</span><span class="p">,</span> <span class="n">hold_time</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;autohold Configures an endpoint to place a connected call on</span>
<span class="sd">        hold and then resume it.</span>

<span class="sd">        :parameter talk_time: delay in milliseconds from call connection</span>
<span class="sd">                              until hold is invoked</span>
<span class="sd">        :parameter hold_time: time in milliseconds call is on hold before</span>
<span class="sd">                              resume is invoked</span>

<span class="sd">        :returns: enabled or disabled</span>

<span class="sd">        &gt;&gt;&gt; ep.enable_auto_hold(10,10)</span>
<span class="sd">        enabled</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;talk_time&#39;</span><span class="p">:</span> <span class="n">talk_time</span><span class="p">,</span>
                  <span class="s1">&#39;hold_time&#39;</span><span class="p">:</span> <span class="n">hold_time</span><span class="p">}</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">ENABLE_AUTO_HOLD</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">disable_auto_hold</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;disable auto hold</span>


<span class="sd">        :returns: disabled</span>

<span class="sd">        &gt;&gt;&gt; ep.disable_auto_hold()</span>
<span class="sd">        disabled</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;talk_time&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                  <span class="s1">&#39;hold_time&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">}</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">DISABLE_AUTO_HOLD</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_auto_hold_hold_time</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;returns the hold time configured on an endpoint</span>
<span class="sd">        using auto_hold command</span>

<span class="sd">        :returns: hold time in milli secconds if auto_hold is enabled and</span>
<span class="sd">         hold_time is configured on endpoint therewise 0.</span>

<span class="sd">        &gt;&gt;&gt; ep1.get_auto_hold_hold_time()</span>
<span class="sd">        &#39;200&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;talk_time&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                  <span class="s1">&#39;hold_time&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">}</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">GET_AUTO_HOLD_HOLD_TIME</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_auto_hold_talk_time</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;returns the auto talk time configured on an endpoint</span>
<span class="sd">        using auto_hold command</span>

<span class="sd">        :returns: talk time in milli secconds if auto_hold is enabled and</span>
<span class="sd">         talk_time is configured on endpoint therewise 0.</span>
<span class="sd">         &#39;&#39;&#39;</span>
        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;talk_time&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                  <span class="s1">&#39;hold_time&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">}</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">GET_AUTO_HOLD_TALK_TIME</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_auto_hold_status</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;get auto hold timer information</span>


<span class="sd">        :returns: disabled</span>

<span class="sd">        &gt;&gt;&gt; ep.disable_auto_hold()</span>
<span class="sd">        disabled</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;talk_time&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                  <span class="s1">&#39;hold_time&#39;</span><span class="p">:</span> <span class="kc">None</span><span class="p">}</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">GET_AUTO_HOLD_STATUS</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">disable_auto_select_join</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;disable auto select join</span>


<span class="sd">        :returns: disabled</span>

<span class="sd">        &gt;&gt;&gt; ep.disable_auto_select_join()</span>
<span class="sd">        disabled</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">DISABLE_AUTO_SELECT_JOIN</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">enable_auto_select_join</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">delay</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">called_list</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                                <span class="n">no_of_calls</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                                <span class="n">timer_action</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Configures an endpoint to select multiple calls on it and join</span>
<span class="sd">        all of them to create an ad hoc conference.The trigger used for this</span>
<span class="sd">        is based on the mode specified</span>

<span class="sd">        For outbound mode, the list of targets specified are taken. Multiple</span>
<span class="sd">        outbound calls to these targets from respective lines specified are</span>
<span class="sd">        made on the calling device, keeping them connected for the specified</span>
<span class="sd">        talk_time. Once the talk_time for a call expires, the call would be</span>
<span class="sd">        put on hold and the next call to next target will be placed. Once the</span>
<span class="sd">        final talk_time of the final called party expires, all the calls on</span>
<span class="sd">        the endpoint will be selected and then finally joined into an ad hoc</span>
<span class="sd">        conference.</span>

<span class="sd">        For mode specified as inbound, the no of calls (connected+held) are</span>
<span class="sd">        taken as the trigger point. When the endpoints have the mentioned no</span>
<span class="sd">        of calls, the calls are selected and finally joined into an ad hoc</span>
<span class="sd">        conference. If timeout is specified, then if noofcalls are not made</span>
<span class="sd">        on the endpoint within the specified timeout value, autoselectjoin</span>
<span class="sd">        would either proceed and join available calls, or disconnect all</span>
<span class="sd">        calls, as specified in the timer_action parameter.</span>

<span class="sd">        :parameter mode:</span>
<span class="sd">                        * inbound - when the other calls included in the</span>
<span class="sd">                          select-join operation are expected to be inbound</span>
<span class="sd">                          and the trigger used is the no of calls on the</span>
<span class="sd">                          endpoint.</span>
<span class="sd">                        * outbound - where a called queue is provided and after</span>
<span class="sd">                          a delay the target list is called one after the other</span>
<span class="sd">                          and then all calls are selected and joined into a</span>
<span class="sd">                          single ad hoc conference.</span>
<span class="sd">        :parameter delay: For outbound mode, the time delay after the first</span>
<span class="sd">         call connects for the autoselectjoin operation to commence. For</span>
<span class="sd">         inbound mode, the time delay after the last call connects for</span>
<span class="sd">         auto select join to commence.</span>
<span class="sd">        :parameter called_list: required parameter if the mode is specified as</span>
<span class="sd">         &#39;outbound&#39;. It is a list of disctionaries with called address,</span>
<span class="sd">         calling line_ref and talk_time. list of dictionary format:</span>
<span class="sd">         [{&#39;CalledDN&#39;: &#39;123&#39;, &#39;LineRef&#39;: &#39;1&#39;, &#39;Talktime&#39;: &#39;1000&#39;}, ...] where</span>

<span class="sd">            * CalledDN: Called Address for the outbound call</span>
<span class="sd">            * LineRef : The calling line reference on which the new call</span>
<span class="sd">              should be placed (to be able to support Join across</span>
<span class="sd">              lines)</span>
<span class="sd">            * Talktime: after connect how much longer should the endpoint wait</span>
<span class="sd">              before it puts the call on hold and dials out another</span>
<span class="sd">              call. For the final target, the completion of the</span>
<span class="sd">              talktime would trigger the auto select followed by</span>
<span class="sd">              join operation.</span>
<span class="sd">        :parameter no_of_calls: required parameter if the mode is specified as</span>
<span class="sd">         &#39;inbound&#39;. It is the number of connected and held calls on an</span>
<span class="sd">         endpoint for the autoselectjoin operation to trigger.</span>
<span class="sd">        :parameter timeout: In mode &#39;inbound&#39;, if the criteria for</span>
<span class="sd">         joining the selected calls (noofcalls) is not met within</span>
<span class="sd">         timeout ms, then autoselectjoin will proceed as mentioned</span>
<span class="sd">         in timer_action. If not specified, inbound autoselectjoin</span>
<span class="sd">         will not timeout.</span>
<span class="sd">        :parameter timer_action: required parameter if timeout is</span>
<span class="sd">         specified. proceed auto select join, on timeout after timeout</span>
<span class="sd">         ms, joins the selected calls.</span>

<span class="sd">        :returns: The current autoselectjoin state, enabled or disabled,</span>
<span class="sd">         unless the delay or called or no_of_calls or mode or timeout or</span>
<span class="sd">         timer_action option is specified with no argument.</span>
<span class="sd">         In which case the currently configured value for the parameter is</span>
<span class="sd">         returned.</span>

<span class="sd">        &gt;&gt;&gt; ep.enable_auto_select_join(mode=&#39;inbound&#39;, delay=&#39;12000&#39;,</span>
<span class="sd">                no_of_calls=&#39;1&#39;, timeout=&#39;18000&#39;, timer_action=&#39;proceed&#39;)</span>
<span class="sd">        enabled</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">mode_types</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;inbound&#39;</span><span class="p">,</span> <span class="s1">&#39;outbound&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">version_info</span> <span class="o">&lt;</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">delay</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">delay</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">long</span><span class="p">))</span> <span class="ow">or</span> <span class="n">delay</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">delay</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">delay</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">delay</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">or</span> <span class="n">delay</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">delay</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">version_info</span> <span class="o">&lt;</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">):</span>
            <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">no_of_calls</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">no_of_calls</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">long</span><span class="p">))</span> <span class="ow">or</span>
                    <span class="n">no_of_calls</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">):</span>
                <span class="n">no_of_calls</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">no_of_calls</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">no_of_calls</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">or</span>
                    <span class="n">no_of_calls</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">):</span>
                <span class="n">no_of_calls</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">version_info</span> <span class="o">&lt;</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">):</span>
            <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">timeout</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">timeout</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">long</span><span class="p">))</span> <span class="ow">or</span>
                    <span class="n">timeout</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">):</span>
                <span class="n">timeout</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">timeout</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">timeout</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">or</span>
                    <span class="n">timeout</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">):</span>
                <span class="n">timeout</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">mode</span> <span class="ow">or</span> <span class="n">mode</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">mode_types</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">camelot</span><span class="o">.</span><span class="n">CamelotError</span><span class="p">(</span>
                <span class="s1">&#39;Please specify mode as inbound/outbound&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">mode</span> <span class="o">==</span> <span class="s1">&#39;outbound&#39;</span> <span class="ow">and</span> <span class="n">no_of_calls</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">camelot</span><span class="o">.</span><span class="n">CamelotError</span><span class="p">(</span>
                <span class="s1">&#39;No of calls is not a valid paramter with OUTBOUND call &#39;</span>
                <span class="s1">&#39;direction&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">mode</span> <span class="o">==</span> <span class="s1">&#39;inbound&#39;</span> <span class="ow">and</span> <span class="n">called_list</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">called_list</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">camelot</span><span class="o">.</span><span class="n">CamelotError</span><span class="p">(</span>
                <span class="s1">&#39;called list is not a valid parameter for inbound mode&#39;</span><span class="p">)</span>

        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;mode&#39;</span><span class="p">:</span> <span class="n">mode</span><span class="p">,</span>
                  <span class="s1">&#39;delay&#39;</span><span class="p">:</span> <span class="n">delay</span><span class="p">,</span>
                  <span class="s1">&#39;called_list&#39;</span><span class="p">:</span> <span class="n">called_list</span><span class="p">,</span>
                  <span class="s1">&#39;no_of_calls&#39;</span><span class="p">:</span> <span class="n">no_of_calls</span><span class="p">,</span>
                  <span class="s1">&#39;timeout&#39;</span><span class="p">:</span> <span class="n">timeout</span><span class="p">,</span>
                  <span class="s1">&#39;timer_action&#39;</span><span class="p">:</span> <span class="n">timer_action</span><span class="p">}</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">ENABLE_AUTO_SELECT_JOIN</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_auto_select_join_called_list</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;returns the called list for auto select join on an endpoint</span>

<span class="sd">        :returns: Returns the called_list which is a list of disctionaries</span>
<span class="sd">         with called address, calling line_ref and talk_time. The format of</span>
<span class="sd">         list of dictionaries is :[{&#39;CalledDN&#39;: &#39;123&#39;, &#39;LineRef&#39;: &#39;1&#39;,</span>
<span class="sd">         &#39;Talktime&#39;: &#39;1000&#39;}, ...].</span>

<span class="sd">        &gt;&gt;&gt; ep1.get_auto_select_join_called_list()</span>
<span class="sd">        [{&#39;CalledDN&#39;: &#39;123&#39;, &#39;LineRef&#39;: &#39;1&#39;,</span>
<span class="sd">         &#39;Talktime&#39;: &#39;1000&#39;}, ...]</span>
<span class="sd">        &#39;&#39;&#39;</span>

        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span>
            <span class="n">camelot</span><span class="o">.</span><span class="n">GET_AUTO_SELECT_JOIN_CALLED_LIST</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_auto_select_join_delay</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;returns the time delay configured to commence the auto select join</span>
<span class="sd">        after the first call connected for an endpoint in milli seconds.</span>

<span class="sd">        :returns: returns delay time in milli seconds.</span>

<span class="sd">        &gt;&gt;&gt; ep1.get_auto_select_join_delay()</span>
<span class="sd">        &#39;200&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span>
            <span class="n">camelot</span><span class="o">.</span><span class="n">GET_AUTO_SELECT_JOIN_DELAY</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_auto_select_join_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Returns the comfigured mode for the auto_select_join for an</span>
<span class="sd">        endpoint.</span>

<span class="sd">        :returns: Returns the mode, the value can be either of &#39;inbound&#39;</span>
<span class="sd">         or &#39;outbound&#39;.</span>

<span class="sd">        &gt;&gt;&gt; ep1.get_auto_select_join_mode()</span>
<span class="sd">        &#39;inbound&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span>
            <span class="n">camelot</span><span class="o">.</span><span class="n">GET_AUTO_SELECT_JOIN_MODE</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_auto_select_join_no_of_calls</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Returns the no of calls configured for auto_select_join for an</span>
<span class="sd">        endpoint.</span>

<span class="sd">        :returns: Returns the no of connected and hold calls on an</span>
<span class="sd">         endpoint.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span>
            <span class="n">camelot</span><span class="o">.</span><span class="n">GET_AUTO_SELECT_JOIN_NO_OF_CALLS</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_auto_select_join_status</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;returns the status of the auto select join configured</span>
<span class="sd">        on endpoint.</span>

<span class="sd">        :returns: Returns enabled if enable_auto_select_join is called</span>
<span class="sd">         otherwise disabled.</span>

<span class="sd">        &gt;&gt;&gt; ep1.get_auto_select_join_status()</span>
<span class="sd">        &#39;enabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">GET_AUTO_SELECT_JOIN_STATUS</span><span class="p">,</span>
                                   <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_auto_select_join_time_out</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Returns the timeout configured for auto select join.</span>

<span class="sd">        :returns: returns the time ion milli seconds.</span>

<span class="sd">        &gt;&gt;&gt; ep1.get_auto_select_join_time_out()</span>
<span class="sd">        &#39;enabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">GET_AUTO_SELECT_JOIN_TIME_OUT</span><span class="p">,</span>
                                   <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_auto_select_join_timer_action</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;returns the timer_action configured for auto select join</span>

<span class="sd">        :returns: returns timer_action configred.</span>

<span class="sd">        &gt;&gt;&gt; ep1.get_auto_select_join_timer_action()</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span>
            <span class="n">camelot</span><span class="o">.</span><span class="n">GET_AUTO_SELECT_JOIN_TIME_OUT_ACTION</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">enable_auto_release</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Configures an endpoint to automatically release calls and</span>
<span class="sd">        streams when an outbound or inbound call or stream is present</span>
<span class="sd">        on an endpoint.</span>

<span class="sd">        Configures an endpoint to automatically release call and stream</span>
<span class="sd">        references when a new outbound or inbound call or stream is</span>
<span class="sd">        present on an endpoint.  This ensures call and stream references</span>
<span class="sd">        do not increase without bound as bulk calls are originated and/or</span>
<span class="sd">        terminated.</span>

<span class="sd">        :returns: Returns the current auto release status, enabled or disabled.</span>

<span class="sd">        &gt;&gt;&gt; ep1.enable_auto_release()</span>
<span class="sd">        &#39;enabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">ENABLE_AUTO_RELEASE</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">disable_auto_release</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;disables the auto release on endpoint</span>

<span class="sd">        :returns: Returns disabled on success.</span>
<span class="sd">        &gt;&gt;&gt; disable_auto_release()</span>
<span class="sd">        &#39;disabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">DISABLE_AUTO_RELEASE</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_auto_release_status</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Returns the status of auto release on endpoint.</span>

<span class="sd">        :returns: Returns &#39;enabled&#39; if auto release is enabled otherwise</span>
<span class="sd">            disabled.</span>

<span class="sd">        &gt;&gt;&gt; ep1.get_auto_release_status()</span>
<span class="sd">        &#39;enabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">AUTO_RELEASE_STATUS</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">enable_auto_fax</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Configures an endpoint to transfer a fax</span>

<span class="sd">        Configures an endpoint to initiate a fax session when a call connects.</span>
<span class="sd">        The mode option indicates whether the session will be a sending or</span>
<span class="sd">        receiving. If sending,the filename option must be specified to indicate</span>
<span class="sd">        which tiff file to send (see the Camelot/lib/media directory). If</span>
<span class="sd">        receiving, the prefix option may optionally be specified to prefix</span>
<span class="sd">        the received file with an arbitrary string.  If no filename is given</span>
<span class="sd">        prefix is mandatory to place the received file in a default</span>
<span class="sd">        location (/usr/camelot/lib/).  If filename is specified, the received</span>
<span class="sd">        file will be stored in the mentioned path</span>

<span class="sd">        :parameter mode:  can take two values. &#39;send&#39; to send a fax,</span>
<span class="sd">         &#39;receive&#39; to receive a fax</span>
<span class="sd">        :parameter filename: Name of the file with absolute path</span>
<span class="sd">                            to be sent through fax or received.</span>
<span class="sd">        :parameter prefix: string prefixed to received files</span>

<span class="sd">        :returns: returns &#39;enabled&#39; if auto fax is enabled otherwise</span>
<span class="sd">         &#39;disabled&#39;.</span>

<span class="sd">         &gt;&gt;&gt; ep1.vapi.enable_auto_fax(mode=&#39;send&#39;, filename=&#39;/Fax/myfax.tiff&#39;)</span>
<span class="sd">         &gt;&gt;&gt; True</span>

<span class="sd">         &gt;&gt;&gt; ep1.vapi.enable_auto_fax(mode=&#39;receive&#39;,</span>
<span class="sd">                                     filename=&#39;/Fax/myfaxout.tiff&#39;)</span>
<span class="sd">         &gt;&gt;&gt; True</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;autofax mode = </span><span class="si">%s</span><span class="s1">, url = </span><span class="si">%s</span><span class="s1">, prefix=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span>
                  <span class="p">(</span><span class="n">mode</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">prefix</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">mode</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;send&#39;</span><span class="p">,</span> <span class="s1">&#39;receive&#39;</span><span class="p">]:</span>
            <span class="k">raise</span> <span class="n">camelot</span><span class="o">.</span><span class="n">CamelotError</span><span class="p">(</span><span class="s1">&#39;invalid mode&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">mode</span> <span class="o">==</span> <span class="s1">&#39;send&#39;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">filename</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">camelot</span><span class="o">.</span><span class="n">CamelotError</span><span class="p">(</span><span class="s1">&#39;filename not specified&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">mode</span> <span class="o">==</span> <span class="s1">&#39;receive&#39;</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">filename</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">prefix</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">camelot</span><span class="o">.</span><span class="n">CamelotError</span><span class="p">(</span><span class="s1">&#39;prefix mandagory when no filename&#39;</span><span class="p">)</span>

        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;mode&#39;</span><span class="p">:</span> <span class="n">mode</span><span class="p">,</span>
                  <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="n">filename</span><span class="p">,</span>
                  <span class="s1">&#39;prefix&#39;</span><span class="p">:</span> <span class="n">prefix</span><span class="p">}</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">ENABLE_AUTO_FAX</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">disable_auto_fax</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;disables the auto fax on an endpoint</span>

<span class="sd">        :returns: Returns disabled on success.</span>
<span class="sd">        &gt;&gt;&gt; ep1.disable_auto_fax()</span>
<span class="sd">        &#39;disabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">DISABLE_AUTO_FAX</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_auto_fax_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Returns the auto fax mode configured on enadpoint.</span>

<span class="sd">        :returns: returns the mode configured for auto fax, can be of</span>
<span class="sd">         &#39;send&#39; or &#39;recieve&#39;.</span>

<span class="sd">        &gt;&gt;&gt; ep1.get_auto_fax_mode()</span>
<span class="sd">        &#39;send&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">GET_AUTO_FAX_MODE</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_auto_fax_url</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39; Returns the URL configured for auto fax.</span>

<span class="sd">        :returns: Returns the URL configured for auto fax.</span>

<span class="sd">        &gt;&gt;&gt; ep1.get_auto_fax_url()</span>
<span class="sd">        &#39;fax1@cisco.com&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">GET_AUTO_FAX_URL</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_auto_fax_status</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Returns the status of auto_fax on endpoint</span>

<span class="sd">        :returns: Returns &#39;enabled&#39; if auto_fax is enabled</span>
<span class="sd">         otherwise &#39;disabled&#39;.</span>

<span class="sd">        &gt;&gt;&gt; ep1.get_auto_fax_status()</span>
<span class="sd">        &#39;enabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">GET_AUTO_FAX_STATUS</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">enable_auto_voice</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                          <span class="n">mode</span><span class="p">,</span>
                          <span class="n">filename</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                          <span class="n">send_sample_rate</span><span class="o">=</span><span class="n">camelot</span><span class="o">.</span>
                          <span class="n">DivaSamplingRate</span><span class="o">.</span><span class="n">DivaSamplingRateNormal</span><span class="p">,</span>
                          <span class="n">recv_audio_format</span><span class="o">=</span><span class="n">camelot</span><span class="o">.</span><span class="n">DivaAudioFormat</span><span class="o">.</span>
                          <span class="n">DivaAudioFormat_Raw_aLaw8K8BitMono</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;This method is exclusively for CAS endpoints. (For other endpoints,</span>
<span class="sd">        please use &#39;auto_traffic&#39; method).It configures an endpoint to send a</span>
<span class="sd">        voice file or receive voice data when a CAS call connects.</span>

<span class="sd">        :parameter mode:  can take two values. &#39;send&#39; to send a voice file,</span>
<span class="sd">         &#39;receive&#39; to receive voice data. Its a mendatory parameter.</span>
<span class="sd">        :parameter filename: Name of the file with absolute path.Mandatory</span>
<span class="sd">         and required only for &#39;send&#39; mode.</span>
<span class="sd">        :parameter recv_audio_format: Optional parameter.</span>
<span class="sd">         Applicable for &#39;receive&#39; mode only.</span>
<span class="sd">         Valid values are same as that of the values given for</span>
<span class="sd">         DivaAudioFormat enum in Diva Guide.</span>
<span class="sd">         This parameter is applicable for receive mode only.Default value is</span>
<span class="sd">         100 (Which is DivaAudioFormat_Raw_aLaw8K8BitMono).</span>
<span class="sd">        :parameter send_sample_rate: Optional parameter.</span>
<span class="sd">         Applicable for &#39;send&#39; mode only.Valid values are same as that of</span>
<span class="sd">         the values given for DivaSamplingRate in Diva Guide.</span>
<span class="sd">         Also please refer to following wiki:</span>
<span class="sd">         &#39;https://wiki.cisco.com/display/CAMELOT/Analog+ATA-190+Voice+Support&#39;</span>
<span class="sd">         Default value will be DivaSamplingRateNormal=8000.</span>

<span class="sd">        :returns: If the command succeeds it returns enabled.</span>
<span class="sd">         Incase of error, returns the specific error.</span>

<span class="sd">        &gt;&gt;&gt; ep1.vapi.enable_auto_voice(mode=&#39;send&#39;,</span>
<span class="sd">             filename=&#39;/tmp/Greeting.wav&#39;,</span>
<span class="sd">             send_sample_rate=camelot.DivaSamplingRate.DivaSamplingRateNormal)</span>
<span class="sd">        enabled</span>
<span class="sd">        &gt;&gt;&gt; ep1.vapi.enable_auto_voice(mode=&#39;receive&#39;,</span>
<span class="sd">            recv_audio_format=</span>
<span class="sd">            camelot.DivaAudioFormat.DivaAudioFormat_Raw_aLaw8K8BitMono)</span>
<span class="sd">        enabled</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;autovoice mode = </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span>
                  <span class="p">(</span><span class="n">mode</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">mode</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;send&#39;</span><span class="p">,</span> <span class="s1">&#39;receive&#39;</span><span class="p">]:</span>
            <span class="k">raise</span> <span class="n">camelot</span><span class="o">.</span><span class="n">CamelotError</span><span class="p">(</span><span class="s1">&#39;invalid mode&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">mode</span> <span class="o">==</span> <span class="s1">&#39;send&#39;</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">filename</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">camelot</span><span class="o">.</span><span class="n">CamelotError</span><span class="p">(</span><span class="s1">&#39;filename not specified&#39;</span>
                                           <span class="s1">&#39;for send mode&#39;</span><span class="p">)</span>
            <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;filename = </span><span class="si">%s</span><span class="s1"> send_sample_rate = </span><span class="si">%d</span><span class="s1">&#39;</span> <span class="o">%</span>
                      <span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">send_sample_rate</span><span class="o">.</span><span class="n">value</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">mode</span> <span class="o">==</span> <span class="s1">&#39;receive&#39;</span><span class="p">:</span>
            <span class="n">filename</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;recv_audio_format = </span><span class="si">%d</span><span class="s1">&#39;</span> <span class="o">%</span>
                      <span class="p">(</span><span class="n">recv_audio_format</span><span class="o">.</span><span class="n">value</span><span class="p">))</span>

        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;mode&#39;</span><span class="p">:</span> <span class="n">mode</span><span class="p">,</span>
                  <span class="s1">&#39;filename&#39;</span><span class="p">:</span> <span class="n">filename</span><span class="p">,</span>
                  <span class="s1">&#39;send_sample_rate&#39;</span><span class="p">:</span> <span class="n">send_sample_rate</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                  <span class="s1">&#39;recv_audio_format&#39;</span><span class="p">:</span> <span class="n">recv_audio_format</span><span class="o">.</span><span class="n">value</span><span class="p">}</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">ENABLE_AUTO_VOICE</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">disable_auto_voice</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;disables the auto voice on an endpoint</span>

<span class="sd">        :returns: If the command disables auto voice it returns disabled.</span>
<span class="sd">         Incase of error, returns the specific error.</span>

<span class="sd">        &gt;&gt;&gt; ep1.disable_auto_voice()</span>
<span class="sd">        &#39;disabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">DISABLE_AUTO_VOICE</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">enable_auto_emservice</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">delay</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">pin</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                              <span class="n">profile</span><span class="o">=</span><span class="s1">&#39;$$$$$&#39;</span><span class="p">,</span>
                              <span class="n">servicename</span><span class="o">=</span><span class="s1">&#39;Extension Mobility&#39;</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Configure the endpoint to perform an Extension Mobility</span>
<span class="sd">        service automatically.</span>

<span class="sd">        Configures the endpoint to kick off an Extension Mobility service upon</span>
<span class="sd">        call termination. The endpoint will attempt to access the Extension</span>
<span class="sd">        Mobility service menu page and will attempt login/logout based on menu</span>
<span class="sd">        options. Note, the delay timer is started upon call disconnect event;</span>
<span class="sd">        if while delay timer is pending another call disconnect event occurs</span>
<span class="sd">        than the timer is restarted.</span>

<span class="sd">        :parameter delay: Delay in milliseconds to wait from call disconnect</span>
<span class="sd">         time before initiating the service.</span>
<span class="sd">        :parameter user: The user-id used for Extension Mobility service</span>
<span class="sd">         log on.</span>
<span class="sd">        :parameter pin: The PIN used for Extension Mobility log on.</span>
<span class="sd">        :parameter profile: Profile name to select. If not specified</span>
<span class="sd">         the first profile returned will be automatically selected.</span>
<span class="sd">        :parameter servicename: The service name to match. If not specified</span>
<span class="sd">         &#39;Extension Mobility&#39; will be attempted.</span>

<span class="sd">        :returns: The Current configuration &#39;enabled&#39; or &#39;disabled&#39;.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">user</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">camelot</span><span class="o">.</span><span class="n">CamelotError</span><span class="p">(</span><span class="s1">&#39;user not specified&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">pin</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">camelot</span><span class="o">.</span><span class="n">CamelotError</span><span class="p">(</span><span class="s1">&#39;pin not specified&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">version_info</span> <span class="o">&lt;</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">delay</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">long</span><span class="p">))</span> <span class="ow">or</span> <span class="n">delay</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">camelot</span><span class="o">.</span><span class="n">CamelotError</span><span class="p">(</span><span class="s1">&#39;invalid delay specified&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">delay</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">or</span> <span class="n">delay</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">camelot</span><span class="o">.</span><span class="n">CamelotError</span><span class="p">(</span><span class="s1">&#39;invalid delay specified&#39;</span><span class="p">)</span>

        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;delay&#39;</span><span class="p">:</span> <span class="n">delay</span><span class="p">,</span>
                  <span class="s1">&#39;user&#39;</span><span class="p">:</span> <span class="n">user</span><span class="p">,</span>
                  <span class="s1">&#39;pin&#39;</span><span class="p">:</span> <span class="n">pin</span><span class="p">,</span>
                  <span class="s1">&#39;profile&#39;</span><span class="p">:</span> <span class="n">profile</span><span class="p">,</span>
                  <span class="s1">&#39;sname&#39;</span><span class="p">:</span> <span class="n">servicename</span><span class="p">}</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">ENABLE_AUTO_EM_SERVICE</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">disable_auto_emservice</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;disables the auto emservice on endpoint</span>

<span class="sd">        :returns: True on success otherwise False.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">DISABLE_AUTO_EM_SERVICE</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_auto_emservice_status</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;returns the status of auto emservice  configured on endpoint</span>

<span class="sd">        :returns: Returns &#39;enabled&#39; if auto_emservice is enabled otherwise</span>
<span class="sd">         &#39;disabled&#39;.</span>

<span class="sd">        &gt;&gt;&gt; ep1.get_auto_emservice_status()</span>
<span class="sd">        &#39;enabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">GET_AUTO_EM_STATUS</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">enable_auto_script</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">string_list</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">trigger</span><span class="o">=</span><span class="s1">&#39;connected&#39;</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Configures an endpoint to execute a simple script on the</span>
<span class="sd">        server when a call connected or alerting state. User can use trigger</span>
<span class="sd">        parameter to configure the same.</span>
<span class="sd">        Note: User can configure auto_script only once having</span>
<span class="sd">        trigger value as either &#39;connected&#39; or &#39;alerting&#39;</span>

<span class="sd">        Configures an endpoint to automatically execute a specified script when</span>
<span class="sd">        a call connected or alerting state. A script is specified as</span>
<span class="sd">        a list of commands, each command can have multiple arguments.</span>
<span class="sd">        The following script commands are supported:\n</span>
<span class="sd">        * wait -seconds sec -- delay/wait the specified number of seconds</span>
<span class="sd">        * dial -called digits -- dial the specified digits</span>
<span class="sd">        * pathconf -mode (initiator | responder) --perform path confirmation</span>
<span class="sd">        * traffic -type (audio | video) -mode (continuous | random) -</span>
<span class="sd">          initiate bearer traffic</span>
<span class="sd">        * playtone -freq freq  -ontime  seconds - play a tone playmedia type</span>
<span class="sd">          (audio | video)</span>
<span class="sd">        * url url  -encoding encoding</span>
<span class="sd">        * checktone -freq freq  -timeout  seconds -check for the</span>
<span class="sd">          presence of a tone</span>
<span class="sd">        * check -field field  -value regexp -check endpoint information</span>
<span class="sd">        * checkcall -field field  -value regexp -check call information</span>
<span class="sd">        * checkstream  -type (audio | video)  -mode (inbound | outbound)</span>
<span class="sd">          -field field  -value regexp -check stream information</span>
<span class="sd">        * endcall -End the call manually; autodisconnect not required when</span>
<span class="sd">          this is used</span>
<span class="sd">        * checkprompt  -type (bin) -timeout seconds -pattern &#39;blob1&#39; &#39;blob2&#39;</span>
<span class="sd">          ... &#39;blob10&#39;</span>
<span class="sd">        * playdtmf -digits digits -ontime ontime -offtime offtime -play</span>
<span class="sd">          digits as RFC 2833 DTMF packets on outbound audio RTP stream</span>

<span class="sd">        :parameter string_list: list of script commands</span>
<span class="sd">        :parameter trigger: string of call state when it triggers\n</span>
<span class="sd">            * connected - script triggers after call connected state</span>
<span class="sd">            * alerting - script triggers after call altering state\n</span>
<span class="sd">             connected is default. Other than these values script will throw</span>
<span class="sd">             an exception as invalid trigger specified.</span>

<span class="sd">        :returns: The current autoscript state, enabled or disabled.</span>

<span class="sd">        &gt;&gt;&gt; mylist = [ &quot;wait -seconds 10&quot;, &quot;endcall&quot; ]</span>
<span class="sd">        &gt;&gt;&gt; ep1.enable_auto_script(string_list=mylist)</span>
<span class="sd">            &#39;enabled&#39;</span>

<span class="sd">           OR</span>

<span class="sd">        &gt;&gt;&gt; ep.enable_auto_script(string_list=mylist, trigger=&#39;alerting&#39;)</span>
<span class="sd">            &#39;enabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">string_list</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">string_list</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">camelot</span><span class="o">.</span><span class="n">CamelotError</span><span class="p">(</span><span class="s1">&#39;Script string array not specified.&#39;</span><span class="p">)</span>

        <span class="n">trigg_types</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;connected&#39;</span><span class="p">,</span> <span class="s1">&#39;alerting&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">trigger</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">trigg_types</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">camelot</span><span class="o">.</span><span class="n">CamelotError</span><span class="p">(</span><span class="s1">&#39;invalid trigger specified.&#39;</span><span class="p">)</span>
        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;trigger&#39;</span><span class="p">:</span> <span class="n">trigger</span><span class="p">}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">ENABLE_AUTO_SCRIPT</span><span class="p">,</span> <span class="n">string_list</span><span class="p">,</span>
                                   <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">disable_auto_script</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;disables the auto script if enabled on endpoint</span>

<span class="sd">        :returns: disabled on success.</span>
<span class="sd">        &gt;&gt;&gt; ep1.disable_auto_script()</span>
<span class="sd">        &#39;disabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">DISABLE_AUTO_SCRIPT</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_auto_script_status</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;gets the auto_script status configured for an endpoint</span>

<span class="sd">        :returns: returns &#39;enabled&#39; if auto_script is enabled otherwise</span>
<span class="sd">         &#39;disabled&#39;.</span>

<span class="sd">        ep1.get_auto_script_status()</span>
<span class="sd">        &#39;enabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">GET_AUTO_SCRIPT_STATUS</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_auto_script_script</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;gets the script configured to run for an endpoint for auto_script</span>

<span class="sd">        :returns: returns the script which is list of commands if configured</span>
<span class="sd">         for an endpoint.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">GET_AUTO_SCRIPT_SCRIPT</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">enable_auto_move</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">delay</span><span class="p">,</span> <span class="n">mute</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Configures an endpoint to automatically perform the move method</span>
<span class="sd">           after the specified delay has expired.</span>

<span class="sd">        :returns: &#39;enabled&#39;</span>

<span class="sd">        &gt;&gt;&gt; ep1.enable_auto_move()</span>
<span class="sd">        &#39;enabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">version_info</span> <span class="o">&lt;</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">delay</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">long</span><span class="p">))</span> <span class="ow">or</span> <span class="n">delay</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">camelot</span><span class="o">.</span><span class="n">CamelotError</span><span class="p">(</span><span class="s1">&#39;delay value must be specified&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">delay</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">or</span> <span class="n">delay</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">camelot</span><span class="o">.</span><span class="n">CamelotError</span><span class="p">(</span><span class="s1">&#39;delay value must be specified&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">version_info</span> <span class="o">&lt;</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">mute</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">long</span><span class="p">))</span> <span class="ow">or</span> <span class="n">mute</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]:</span>
                <span class="k">raise</span> <span class="n">camelot</span><span class="o">.</span><span class="n">CamelotError</span><span class="p">(</span><span class="s1">&#39;Invalid mute value specified&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">mute</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">or</span> <span class="n">mute</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]:</span>
                <span class="k">raise</span> <span class="n">camelot</span><span class="o">.</span><span class="n">CamelotError</span><span class="p">(</span><span class="s1">&#39;Invalid mute value specified&#39;</span><span class="p">)</span>
        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;delay&#39;</span><span class="p">:</span> <span class="n">delay</span><span class="p">,</span>
                  <span class="s1">&#39;mute&#39;</span><span class="p">:</span> <span class="n">mute</span><span class="p">}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">ENABLE_AUTO_MOVE</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">disable_auto_move</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Configures a CUMC  endpoint to automatically perform the move</span>
<span class="sd">           method after a specified delay.</span>

<span class="sd">        :returns: &#39;disabled&#39;.</span>

<span class="sd">        &gt;&gt;&gt; ep1.disable_auto_move()</span>
<span class="sd">        &#39;disabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">DISABLE_AUTO_MOVE</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_auto_move_display</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        To retrieve the current setting of auto move.</span>

<span class="sd">        :returns: enabled or disabled, delay in milliseconds</span>
<span class="sd">                  and mute on or off</span>

<span class="sd">        &gt;&gt;&gt; ep1.get_auto_move_display()</span>
<span class="sd">           &#39;enabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">GET_AUTO_MOVE_DISPLAY</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">enable_auto_traffic</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">media_type</span><span class="p">,</span> <span class="n">mode</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;Configures an endpoint to stream bearer traffic when the</span>
<span class="sd">        corresponding outbound stream opens</span>

<span class="sd">        Configures an endpoint to stream traffic when the corresponding</span>
<span class="sd">        outbound stream opens.  The media_type indicates whether audio or</span>
<span class="sd">        video traffic should be streamed.  This option is mandatory and must</span>
<span class="sd">        be specified on every autotraffic invocation.  Note, an endpoint can</span>
<span class="sd">        be configured to stream both audio and video traffic simultaneously.</span>
<span class="sd">        The -mode option indicates how the traffic should streamed, either</span>
<span class="sd">        continuously or intermittently.</span>

<span class="sd">        If autotraffic and autopathconf are both configured, audio traffic will</span>
<span class="sd">        begin streaming after path confirmation has completed.</span>

<span class="sd">        **Limitations:**</span>
<span class="sd">         Presently, with the exception of CTS eps, media for eps using AAC</span>
<span class="sd">         codec is not supported. If the ep is configured to use AAC codec,</span>
<span class="sd">         there will be no RTP packets sent over the media stream. With CTS ep,</span>
<span class="sd">         AAC media traffic will be sent, however, a pre-recorded file of RTP</span>
<span class="sd">         packet is played back and that there is no actual encoding/decoding of</span>
<span class="sd">         the media.</span>

<span class="sd">        :parameter media_type: One of the following values</span>
<span class="sd">            * audio - record audio traffic</span>
<span class="sd">            * video - record video traffic.</span>
<span class="sd">            Specifying a type is mandatory for all invocations.</span>
<span class="sd">        :parameter mode: One of the following values</span>
<span class="sd">            * continuous - stream traffic continuously</span>
<span class="sd">            * random - stream traffic intermittently</span>

<span class="sd">        :returns: The current autotraffic state, enabled or disabled</span>

<span class="sd">        &gt;&gt;&gt; ep4.enable_auto_traffic(media_type = &#39;audio&#39;,</span>
<span class="sd">                                         mode = &#39;continuous&#39;)</span>
<span class="sd">        &#39;enabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">mode_types</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;continuous&#39;</span><span class="p">,</span> <span class="s1">&#39;random&#39;</span><span class="p">]</span>
        <span class="n">media_types</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;audio&#39;</span><span class="p">,</span> <span class="s1">&#39;video&#39;</span><span class="p">,</span> <span class="s1">&#39;slides&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">media_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">media_types</span> <span class="ow">or</span> <span class="n">mode</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">mode_types</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">camelot</span><span class="o">.</span><span class="n">CamelotError</span><span class="p">(</span>
                <span class="s1">&#39;Invalid media_type or mode&#39;</span><span class="p">)</span>
        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;mediatype&#39;</span><span class="p">:</span> <span class="n">media_type</span><span class="p">,</span>
                  <span class="s1">&#39;mode&#39;</span><span class="p">:</span> <span class="n">mode</span><span class="p">}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">ENABLE_AUTO_TRAFFIC</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">disable_auto_traffic</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">media_type</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Disables autotraffic</span>

<span class="sd">        :returns: The current autotraffic state, either enabled or disabled</span>

<span class="sd">        &gt;&gt;&gt; ep4.disable_auto_traffic(media_type = &#39;audio&#39;)</span>
<span class="sd">        &#39;disabled&#39;</span>

<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">media_types</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;audio&#39;</span><span class="p">,</span> <span class="s1">&#39;video&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">media_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">media_types</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">camelot</span><span class="o">.</span><span class="n">CamelotError</span><span class="p">(</span><span class="s1">&#39;invalid media type specified&#39;</span><span class="p">)</span>

        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;mediatype&#39;</span><span class="p">:</span> <span class="n">media_type</span><span class="p">}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">DISABLE_AUTO_TRAFFIC</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_auto_traffic_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">media_type</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        The currently configured mode is returned</span>

<span class="sd">        :returns: The currently configured mode is returned</span>

<span class="sd">        &gt;&gt;&gt; ep1.get_auto_traffic_mode()</span>
<span class="sd">        &#39;continuos&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">media_types</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;audio&#39;</span><span class="p">,</span> <span class="s1">&#39;video&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">media_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">media_types</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">camelot</span><span class="o">.</span><span class="n">CamelotError</span><span class="p">(</span><span class="s1">&#39;invalid media type specified&#39;</span><span class="p">)</span>

        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;mediatype&#39;</span><span class="p">:</span> <span class="n">media_type</span><span class="p">}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">GET_AUTO_TRAFFIC_MODE</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_auto_traffic_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">media_type</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        The current autotraffic state, either enabled or disabled</span>

<span class="sd">        :returns: The current autotraffic state, either enabled or disabled</span>

<span class="sd">        &gt;&gt;&gt; ep1.get_auto_traffic_status()</span>
<span class="sd">        &#39;enabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">media_types</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;audio&#39;</span><span class="p">,</span> <span class="s1">&#39;video&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">media_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">media_types</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">camelot</span><span class="o">.</span><span class="n">CamelotError</span><span class="p">(</span><span class="s1">&#39;invalid media type specified&#39;</span><span class="p">)</span>

        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;mediatype&#39;</span><span class="p">:</span> <span class="n">media_type</span><span class="p">}</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span>
            <span class="n">camelot</span><span class="o">.</span><span class="n">GET_AUTO_TRAFFIC_STATUS</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">enable_auto_park</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">park_type</span><span class="p">,</span> <span class="n">talk_time</span><span class="o">=</span><span class="mi">10000</span><span class="p">,</span>
                         <span class="n">disc_timeout</span><span class="o">=</span><span class="mi">60000</span><span class="p">,</span> <span class="n">status_timeout</span><span class="o">=</span><span class="mi">60000</span><span class="p">,</span>
                         <span class="n">button_number</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Configures an endpoint to automatically parks and wait for park status</span>
<span class="sd">        Also please refer following Wiki \n</span>
<span class="sd">        https://wiki.cisco.com/display/CAMELOT/auto_park</span>

<span class="sd">        :parameter park_type: Type of park to initiate. Passible</span>
<span class="sd">         values \n</span>
<span class="sd">            * blfdpark   - for BLF dpark based park</span>
<span class="sd">            * softkey    - for softkey based park</span>

<span class="sd">        :parameter talk_time: Delay in milliseconds from call</span>
<span class="sd">         connection until park is invoked.</span>
<span class="sd">         Default will be 10000\n</span>

<span class="sd">        :parameter disc_timeout: Timeout in milliseconds waiting to receive BYE</span>
<span class="sd">         for the call from CUCM after successful park initiation.\n</span>
<span class="sd">         Initiate call disconnect on this timer expiry</span>

<span class="sd">        :parameter status_timeout: Timeout in milliseconds waiting for park</span>
<span class="sd">         status notification from CUCM (REFER notify_display) after successful</span>
<span class="sd">         park initiation.\n</span>
<span class="sd">         Initiate call disconnect on this timer expiry,</span>
<span class="sd">         if call is not already disconnected.</span>

<span class="sd">        :parameter button_number: Button number of a BLF dpark configured.</span>
<span class="sd">         If the button_number did not match from</span>
<span class="sd">         get_button_blf() it will throw an exception to the user with error</span>
<span class="sd">         &#39;can not enable auto_park: button number not configured for</span>
<span class="sd">         BLF dpark feature&#39; etc.,</span>

<span class="sd">        :returns:  If the command enables auto_park</span>
<span class="sd">         configuration it returns enabled.\n</span>
<span class="sd">         For invalid parameter values, it returns like &#39;invalid park_type&#39;\n</span>
<span class="sd">         For missing mandatory parameter, it returns like &#39;talk_time</span>
<span class="sd">         not specified&#39;\n</span>


<span class="sd">        &gt;&gt;&gt; enable_auto_park(park_type=&#39;blfdpark&#39;, talk_time=10000,</span>
<span class="sd">        disc_timeout=60000,status_timeout=61000, button_number=3)</span>
<span class="sd">        &#39;enabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>

        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;Entering enable_auto_park function&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">park_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;softkey&#39;</span><span class="p">,</span> <span class="s1">&#39;blfdpark&#39;</span><span class="p">]:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Invalid park_type&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">talk_time</span><span class="p">:</span>
            <span class="c1"># return &#39;talk time not specified&#39;</span>
            <span class="n">talk_time</span> <span class="o">=</span> <span class="s1">&#39;10000&#39;</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="n">disc_timeout</span><span class="p">:</span>
            <span class="c1"># return &#39;disc_time not specifed&#39;</span>
            <span class="n">disc_timeout</span> <span class="o">=</span> <span class="s1">&#39;61000&#39;</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="n">status_timeout</span><span class="p">:</span>
            <span class="c1"># return &#39;status_time not specified&#39;</span>
            <span class="n">status_timeout</span> <span class="o">=</span> <span class="s1">&#39;60000&#39;</span>

        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;talktime&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">talk_time</span><span class="p">),</span>
                  <span class="s1">&#39;parktype&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">park_type</span><span class="p">),</span>
                  <span class="s1">&#39;disc_t&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">disc_timeout</span><span class="p">),</span>
                  <span class="s1">&#39;status_t&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">status_timeout</span><span class="p">),</span>
                  <span class="s1">&#39;buttonno&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">button_number</span><span class="p">)}</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">ENABLE_AUTO_PARK</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_auto_park</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        returns the command status and other attributes</span>
<span class="sd">        of auto_park on endpoint</span>

<span class="sd">        :returns: Returns auto_park() enable status along with other</span>
<span class="sd">         attribites configured.</span>

<span class="sd">        &gt;&gt;&gt; ep1.get_auto_park()</span>
<span class="sd">        {&#39;auto_park_api_status&#39;: &#39;enabled&#39;,</span>
<span class="sd">         &#39;park_type&#39;: &#39;blkdpark&#39;,</span>
<span class="sd">         &#39;talk_time&#39;: &#39;10000&#39;,</span>
<span class="sd">         &#39;disc_timeout&#39;: &#39;5000&#39;,</span>
<span class="sd">         &#39;status_timeout&#39;: &#39;5000&#39;,</span>
<span class="sd">         &#39;button_number&#39;: &#39;3&#39;}</span>

<span class="sd">        &gt;&gt;&gt; ep1.get_auto_park()</span>
<span class="sd">        {&#39;auto_park_api_status&#39;: &#39;disabled&#39;,</span>
<span class="sd">         &#39;park_type&#39;: &#39;&#39;,</span>
<span class="sd">         &#39;talk_time&#39;: &#39;&#39;,</span>
<span class="sd">         &#39;disc_timeout&#39;: &#39;&#39;,</span>
<span class="sd">         &#39;status_timeout&#39;: &#39;&#39;,</span>
<span class="sd">         &#39;button_number&#39;: &#39;&#39;}</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">GET_AUTO_PARK</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">disable_auto_park</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        disables auto park for an endpoint.</span>

<span class="sd">        :returns: If the command disables autopark configuration it returns</span>
<span class="sd">         disabled.</span>

<span class="sd">        &gt;&gt;&gt; ep1.disable_auto_park()</span>
<span class="sd">        &#39;disabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;Entering disable_auto_park function&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">DISABLE_AUTO_PARK</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">enable_auto_park_retrieve</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">park_type</span><span class="p">,</span> <span class="n">park_number</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                                  <span class="n">button_number</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">trigger_time</span><span class="o">=</span><span class="mi">10000</span><span class="p">,</span>
                                  <span class="n">complete_timeout</span><span class="o">=</span><span class="mi">20000</span><span class="p">,</span>
                                  <span class="n">talk_time</span><span class="o">=</span><span class="mi">10000</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Configures an endpoint to automatically retrieve parked call and</span>
<span class="sd">        disconnects after retrieve success.</span>

<span class="sd">        :parameter park_type: Type of park to initiate. Passible</span>
<span class="sd">         values \n</span>
<span class="sd">            * blfdpark   - for BLF dpark based park</span>
<span class="sd">            * softkey    - for softkey based park</span>

<span class="sd">        :parameter park_number: Park number to dial to retrieve.</span>
<span class="sd">         Optional if retrieved from same phone.</span>

<span class="sd">        :parameter button_number: Button number of a BLF dpark configured</span>
<span class="sd">         to retrieve.</span>

<span class="sd">        :parameter trigger_time: This is the time duration in milliseconds</span>
<span class="sd">         used to trigger the retrieve after the park is complete.</span>

<span class="sd">        :parameter complete_timeout: Timeout in milliseconds waiting for</span>
<span class="sd">         the retrieve call gets connected (indicates retrieve is complete).\n</span>
<span class="sd">         Initiate call disconnect on this timer expiry</span>

<span class="sd">        :parameter talk_time: Delay in milliseconds from call</span>
<span class="sd">         connection after retrieve complete and trigger disconnect for</span>
<span class="sd">         the retrieval party.</span>

<span class="sd">        :returns:  Returns enabled on configuration success.\n</span>
<span class="sd">         For invalid parameter values, it returns like &#39;invalid park_type&#39;\n</span>


<span class="sd">        &gt;&gt;&gt; enable_auto_park_retrieve(park_type=&#39;blfdpark&#39;, button_number=3,</span>
<span class="sd">        trigger_time=10000, complete_timeout=20000, talk_time=10000)</span>
<span class="sd">        &#39;enabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>

        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;Entering enable_auto_park_retrieve function&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">park_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;softkey&#39;</span><span class="p">,</span> <span class="s1">&#39;blfdpark&#39;</span><span class="p">]:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Invalid park_type&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">park_type</span> <span class="o">==</span> <span class="s1">&#39;blfdpark&#39;</span> <span class="ow">and</span>
           <span class="n">park_number</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span>
           <span class="n">button_number</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;Either park_number or button_number is required&#39;</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">park_number</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">park_number</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">talk_time</span><span class="p">:</span>
            <span class="n">talk_time</span> <span class="o">=</span> <span class="s1">&#39;10000&#39;</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="n">trigger_time</span><span class="p">:</span>
            <span class="n">trigger_time</span> <span class="o">=</span> <span class="s1">&#39;10000&#39;</span>

        <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;talktime&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">talk_time</span><span class="p">),</span>
                  <span class="s1">&#39;parktype&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">park_type</span><span class="p">),</span>
                  <span class="s1">&#39;parknum&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">park_number</span><span class="p">),</span>
                  <span class="s1">&#39;triggertime&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">trigger_time</span><span class="p">),</span>
                  <span class="s1">&#39;completetime&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">complete_timeout</span><span class="p">),</span>
                  <span class="s1">&#39;buttonno&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">button_number</span><span class="p">)}</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">ENABLE_AUTO_PARK_RET</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_auto_park_retrieve</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        returns the command status and other attributes</span>
<span class="sd">        of auto_park on endpoint</span>

<span class="sd">        :returns: Returns auto_park() enable status along with other</span>
<span class="sd">         attribites configured.</span>

<span class="sd">        &gt;&gt;&gt; ep1.get_auto_park_retrieve()</span>
<span class="sd">        {&#39;auto_park_api_status&#39;: &#39;enabled&#39;,</span>
<span class="sd">         &#39;park_type&#39;: &#39;blkdpark&#39;,</span>
<span class="sd">         &#39;talk_time&#39;: &#39;10000&#39;,</span>
<span class="sd">         &#39;disc_timeout&#39;: &#39;5000&#39;,</span>
<span class="sd">         &#39;status_timeout&#39;: &#39;5000&#39;,</span>
<span class="sd">         &#39;button_number&#39;: &#39;3&#39;}</span>

<span class="sd">        &gt;&gt;&gt; ep1.get_auto_park_retrieve()</span>
<span class="sd">        {&#39;auto_park_api_status&#39;: &#39;disabled&#39;,</span>
<span class="sd">         &#39;park_type&#39;: &#39;&#39;,</span>
<span class="sd">         &#39;talk_time&#39;: &#39;&#39;,</span>
<span class="sd">         &#39;disc_timeout&#39;: &#39;&#39;,</span>
<span class="sd">         &#39;status_timeout&#39;: &#39;&#39;,</span>
<span class="sd">         &#39;button_number&#39;: &#39;&#39;}</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">GET_AUTO_PARK_RET</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">disable_auto_park_retrieve</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        disables auto park retrieve for an endpoint.</span>

<span class="sd">        :returns: On command success, returns disabled.</span>

<span class="sd">        &gt;&gt;&gt; ep1.disable_auto_park_retrieve()</span>
<span class="sd">        &#39;disabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;Entering disable_auto_park_retrieve function&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">DISABLE_AUTO_PARK_RET</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">enable_auto_http</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ip</span><span class="p">,</span> <span class="n">port</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span>
                         <span class="n">jsessionid</span><span class="o">=</span><span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="n">jsessionidsso</span><span class="o">=</span><span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="n">oauthtoken</span><span class="o">=</span><span class="s1">&#39;0&#39;</span><span class="p">,</span>
                         <span class="n">secure</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">showfinalresp</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">noautoref</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                         <span class="n">service</span><span class="o">=</span><span class="s1">&#39;cucm&#39;</span><span class="p">,</span> <span class="n">domain</span><span class="o">=</span><span class="s1">&#39;null&#39;</span><span class="p">,</span> <span class="n">protocol</span><span class="o">=</span><span class="s1">&#39;https&#39;</span><span class="p">,</span>
                         <span class="n">serviceport</span><span class="o">=</span><span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="n">servicefqdn</span><span class="o">=</span><span class="s1">&#39;null&#39;</span><span class="p">,</span> <span class="n">auth_type</span><span class="o">=</span><span class="s1">&#39;0&#39;</span><span class="p">,</span>
                         <span class="n">body</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="p">{},</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Stores the input arguments in Camelot server to form a</span>
<span class="sd">        HTTP query request later when used by BCG for triggering</span>
<span class="sd">        http_query_request</span>

<span class="sd">        For information on any of the input parameters refer to</span>
<span class="sd">        http_query_request() API</span>

<span class="sd">        :returns: returns enabled on success otherwise error</span>

<span class="sd">        &gt;&gt;&gt; ep1.enable_auto_http(&#39;10.12.10.105&#39;, &#39;8443&#39;,</span>
<span class="sd">                &#39;/cucm-uds/users?name=USER1500001&#39;, secure=True,</span>
<span class="sd">                headers={&#39;Cookie&#39;:&#39;i18next=en-US;amlbcookie=01;&#39;,</span>
<span class="sd">                    &#39;Forwarded&#39;:&#39;for=192.0.2.60;&#39;})</span>
<span class="sd">        &#39;enabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">config_request</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>

        <span class="n">config_request</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">config_request</span><span class="p">,</span> <span class="n">ip</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">url</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">camelot</span><span class="o">.</span><span class="n">CamelotError</span><span class="p">(</span><span class="s1">&#39;url is not specified&#39;</span><span class="p">)</span>

        <span class="n">config_request</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> </span><span class="si">{}</span><span class="s1"> </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">config_request</span><span class="p">,</span> <span class="n">port</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">secure</span><span class="p">:</span>
            <span class="n">config_request</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">config_request</span><span class="p">,</span> <span class="s1">&#39;https&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">config_request</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">config_request</span><span class="p">,</span> <span class="s1">&#39;http&#39;</span><span class="p">)</span>

        <span class="n">config_request</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> </span><span class="si">{}</span><span class="s1"> </span><span class="si">{}</span><span class="s1"> </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">config_request</span><span class="p">,</span> <span class="n">jsessionid</span><span class="p">,</span>
                                              <span class="n">jsessionidsso</span><span class="p">,</span> <span class="n">oauthtoken</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">showfinalresp</span><span class="p">:</span>
            <span class="n">config_request</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">config_request</span><span class="p">,</span> <span class="s1">&#39;showfinalresp&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">config_request</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">config_request</span><span class="p">,</span> <span class="s2">&quot;0&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">noautoref</span><span class="p">:</span>
            <span class="n">config_request</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">config_request</span><span class="p">,</span> <span class="s1">&#39;noautoref&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">config_request</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">config_request</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">service</span> <span class="o">==</span> <span class="s1">&#39;cucm&#39;</span><span class="p">:</span>
            <span class="n">config_request</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">config_request</span><span class="p">,</span> <span class="s1">&#39;cucm-uds&#39;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">service</span> <span class="o">==</span> <span class="s1">&#39;unity&#39;</span><span class="p">:</span>
            <span class="n">config_request</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">config_request</span><span class="p">,</span> <span class="s1">&#39;ucxn&#39;</span><span class="p">)</span>

        <span class="n">config_request</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> </span><span class="si">{}</span><span class="s1"> </span><span class="si">{}</span><span class="s1"> </span><span class="si">{}</span><span class="s1"> </span><span class="si">{}</span><span class="s1"> </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">config_request</span><span class="p">,</span> <span class="n">domain</span><span class="p">,</span>
                                                    <span class="n">protocol</span><span class="p">,</span> <span class="n">serviceport</span><span class="p">,</span>
                                                    <span class="n">servicefqdn</span><span class="p">,</span> <span class="n">auth_type</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">body</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">config_request</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> ^</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">config_request</span><span class="p">,</span> <span class="s1">&#39;NULL&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">config_request</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1"> ^</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">config_request</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">headers</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="n">msgtext</span> <span class="o">=</span> <span class="s1">&#39;set valid {header: value} dictionary for headers&#39;</span>
            <span class="k">raise</span> <span class="n">camelot</span><span class="o">.</span><span class="n">CamelotError</span><span class="p">(</span><span class="n">msgtext</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">config_request</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">^</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">config_request</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">method</span><span class="p">:</span>
            <span class="n">config_request</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">^</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">config_request</span><span class="p">,</span> <span class="n">method</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">config_request</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">^</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">config_request</span><span class="p">,</span> <span class="s1">&#39;GET&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">timeout</span><span class="p">:</span>
            <span class="n">config_request</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">^</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">config_request</span><span class="p">,</span> <span class="n">timeout</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">config_request</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">^</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">config_request</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>

        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;auto_http arguments </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">config_request</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span>
            <span class="n">camelot</span><span class="o">.</span><span class="n">ENABLE_AUTO_HTTP</span><span class="p">,</span> <span class="n">config_request</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">disable_auto_http</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        clears all the auto http query inputs stored by enable_auto_http()</span>

<span class="sd">        :returns: On command success returns disabled.</span>

<span class="sd">        &gt;&gt;&gt; ep1.disable_auto_http()</span>
<span class="sd">        &#39;disabled&#39;</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">log</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;Entering disable_auto_http function&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_query_camelot</span><span class="p">(</span><span class="n">camelot</span><span class="o">.</span><span class="n">DISABLE_AUTO_HTTP</span><span class="p">)</span>
</pre></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">Camelot Python SDK v12.6.22.12.0.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../index.html" >Module code</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../../camelot.html" >camelot</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2013, Author.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.9.
    </div>
  </body>
</html>